"use strict";(self.webpackChunkng_games_website=self.webpackChunkng_games_website||[]).push([[179],{369:()=>{function De(t){return"function"==typeof t}function Ga(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const bl=Ga(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ro(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class yn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(s){e=s instanceof bl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{tT(s)}catch(o){e=e??[],o instanceof bl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new bl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tT(e);else{if(e instanceof yn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ro(n,e)}remove(e){const{_finalizers:n}=this;n&&ro(n,e),e instanceof yn&&e._removeParent(this)}}yn.EMPTY=(()=>{const t=new yn;return t.closed=!0,t})();const ZC=yn.EMPTY;function eT(t){return t instanceof yn||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function tT(t){De(t)?t():t.unsubscribe()}const qi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cl={setTimeout(t,e,...n){const{delegate:r}=Cl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Cl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function nT(t){Cl.setTimeout(()=>{const{onUnhandledError:e}=qi;if(!e)throw t;e(t)})}function rT(){}const DB=bp("C",void 0,void 0);function bp(t,e,n){return{kind:t,value:e,error:n}}let Wi=null;function Tl(t){if(qi.useDeprecatedSynchronousErrorHandling){const e=!Wi;if(e&&(Wi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Wi;if(Wi=null,n)throw r}}else t()}class Cp extends yn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,eT(e)&&e.add(this)):this.destination=MB}static create(e,n,r){return new Al(e,n,r)}next(e){this.isStopped?Ap(function CB(t){return bp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ap(function bB(t){return bp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ap(DB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const AB=Function.prototype.bind;function Tp(t,e){return AB.call(t,e)}class SB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Sl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Sl(r)}else Sl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Sl(n)}}}class Al extends Cp{constructor(e,n,r){let i;if(super(),De(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&qi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tp(e.next,s),error:e.error&&Tp(e.error,s),complete:e.complete&&Tp(e.complete,s)}):i=e}this.destination=new SB(i)}}function Sl(t){qi.useDeprecatedSynchronousErrorHandling?function TB(t){qi.useDeprecatedSynchronousErrorHandling&&Wi&&(Wi.errorThrown=!0,Wi.error=t)}(t):nT(t)}function Ap(t,e){const{onStoppedNotification:n}=qi;n&&Cl.setTimeout(()=>n(t,e))}const MB={closed:!0,next:rT,error:function xB(t){throw t},complete:rT},Sp="function"==typeof Symbol&&Symbol.observable||"@@observable";function zi(t){return t}let Oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function NB(t){return t&&t instanceof Cp||function kB(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}(t)&&eT(t)}(n)?n:new Al(n,r,i);return Tl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=sT(r))((i,s)=>{const o=new Al({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Sp](){return this}pipe(...n){return function iT(t){return 0===t.length?zi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=sT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function sT(t){var e;return null!==(e=t??qi.Promise)&&void 0!==e?e:Promise}const RB=Ga(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let dr=(()=>{class t extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new oT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new RB}next(n){Tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ZC:(this.currentObservers=null,s.push(n),new yn(()=>{this.currentObservers=null,ro(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Oe;return n.source=this,n}}return t.create=(e,n)=>new oT(e,n),t})();class oT extends dr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ZC}}function aT(t){return De(t?.lift)}function Dt(t){return e=>{if(aT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(t,e,n,r,i){return new PB(t,e,n,r,i)}class PB extends Cp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(t,e){return Dt((n,r)=>{let i=0;n.subscribe(ft(r,s=>{r.next(t.call(e,s,i++))}))})}function cT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ki(t){return this instanceof Ki?(this.v=t,this):new Ki(t)}function LB(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ki?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function VB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function dT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const hT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function fT(t){return De(t?.then)}function pT(t){return De(t[Sp])}function gT(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function mT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const yT=function BB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _T(t){return De(t?.[yT])}function vT(t){return LB(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ki(n.read());if(i)return yield Ki(void 0);yield yield Ki(r)}}finally{n.releaseLock()}})}function wT(t){return De(t?.getReader)}function hr(t){if(t instanceof Oe)return t;if(null!=t){if(pT(t))return function jB(t){return new Oe(e=>{const n=t[Sp]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(hT(t))return function $B(t){return new Oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(fT(t))return function HB(t){return new Oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,nT)})}(t);if(gT(t))return IT(t);if(_T(t))return function GB(t){return new Oe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(wT(t))return function qB(t){return IT(vT(t))}(t)}throw mT(t)}function IT(t){return new Oe(e=>{(function WB(t,e){var n,r,i,s;return function OB(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=VB(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Or(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function bt(t,e,n=1/0){return De(e)?bt((r,i)=>_e((s,o)=>e(r,s,i,o))(hr(t(r,i))),n):("number"==typeof e&&(n=e),Dt((r,i)=>function zB(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;hr(n(g,l++)).subscribe(ft(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Or(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(ft(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function io(t=1/0){return bt(zi,t)}const Fr=new Oe(t=>t.complete());function Mp(t){return t[t.length-1]}function ET(t){return De(Mp(t))?t.pop():void 0}function qa(t){return function QB(t){return t&&De(t.schedule)}(Mp(t))?t.pop():void 0}function xl(t,e=0){return Dt((n,r)=>{n.subscribe(ft(r,i=>Or(r,t,()=>r.next(i),e),()=>Or(r,t,()=>r.complete(),e),i=>Or(r,t,()=>r.error(i),e)))})}function Ml(t,e=0){return Dt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function DT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Oe(n=>{Or(n,e,()=>{const r=t[Symbol.asyncIterator]();Or(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function rt(t,e){return e?function n2(t,e){if(null!=t){if(pT(t))return function JB(t,e){return hr(t).pipe(Ml(e),xl(e))}(t,e);if(hT(t))return function ZB(t,e){return new Oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(fT(t))return function XB(t,e){return hr(t).pipe(Ml(e),xl(e))}(t,e);if(gT(t))return DT(t,e);if(_T(t))return function e2(t,e){return new Oe(n=>{let r;return Or(n,e,()=>{r=t[yT](),Or(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(t,e);if(wT(t))return function t2(t,e){return DT(vT(t),e)}(t,e)}throw mT(t)}(t,e):hr(t)}function Wa(t){return t<=0?()=>Fr:Dt((e,n)=>{let r=0;e.subscribe(ft(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kp(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Wa(1)).subscribe(()=>t())}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Np(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ie(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ie).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Rp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const s2=we({__forward_ref__:we});function be(t){return t.__forward_ref__=be,t.toString=function(){return Ie(this())},t}function G(t){return Pp(t)?t():t}function Pp(t){return"function"==typeof t&&t.hasOwnProperty(s2)&&t.__forward_ref__===be}class Z extends Error{constructor(e,n){super(function kl(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function K(t){return"string"==typeof t?t:null==t?"":String(t)}function Nl(t,e){throw new Z(-201,!1)}function vn(t,e){null==t&&function ge(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ne(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Op(t){return bT(t,Rl)||bT(t,TT)}function bT(t,e){return t.hasOwnProperty(e)?t[e]:null}function CT(t){return t&&(t.hasOwnProperty(Fp)||t.hasOwnProperty(f2))?t[Fp]:null}const Rl=we({\u0275prov:we}),Fp=we({\u0275inj:we}),TT=we({ngInjectableDef:we}),f2=we({ngInjectorDef:we});var B=(()=>((B=B||{})[B.Default=0]="Default",B[B.Host=1]="Host",B[B.Self=2]="Self",B[B.SkipSelf=4]="SkipSelf",B[B.Optional=8]="Optional",B))();let Lp;function fr(t){const e=Lp;return Lp=t,e}function AT(t,e,n){const r=Op(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&B.Optional?null:void 0!==e?e:void Nl(Ie(t))}function fi(t){return{toString:t}.toString()}var zn=(()=>((zn=zn||{})[zn.OnPush=0]="OnPush",zn[zn.Default=1]="Default",zn))(),pr=(()=>{return(t=pr||(pr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",pr;var t})();const ve=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),so={},pe=[],Pl=we({\u0275cmp:we}),Vp=we({\u0275dir:we}),Up=we({\u0275pipe:we}),ST=we({\u0275mod:we}),Vr=we({\u0275fac:we}),za=we({__NG_ELEMENT_ID__:we});let g2=0;function an(t){return fi(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===zn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||pe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||pr.Emulated,id:"c",styles:t.styles||pe,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.id+=g2++,i.inputs=kT(t.inputs,r),i.outputs=kT(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(xT).filter(MT):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Wt).filter(MT):null,i})}function xT(t){return Ee(t)||qt(t)}function MT(t){return null!==t}const y2={};function Pn(t){return fi(()=>{const e={type:t.type,bootstrap:t.bootstrap||pe,declarations:t.declarations||pe,imports:t.imports||pe,exports:t.exports||pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(y2[t.id]=t.type),e})}function kT(t,e){if(null==t)return so;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const $=an;function Ee(t){return t[Pl]||null}function qt(t){return t[Vp]||null}function Wt(t){return t[Up]||null}function In(t,e){const n=t[ST]||null;if(!n&&!0===e)throw new Error(`Type ${Ie(t)} does not have '\u0275mod' property.`);return n}function cn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Qn(t){return Array.isArray(t)&&!0===t[1]}function $p(t){return 0!=(8&t.flags)}function Vl(t){return 2==(2&t.flags)}function Ul(t){return 1==(1&t.flags)}function Yn(t){return null!==t.template}function E2(t){return 0!=(256&t[2])}function Zi(t,e){return t.hasOwnProperty(Vr)?t[Vr]:null}class C2{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Fn(){return PT}function PT(t){return t.type.prototype.ngOnChanges&&(t.setInput=A2),T2}function T2(){const t=FT(this),e=t?.current;if(e){const n=t.previous;if(n===so)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function A2(t,e,n,r){const i=FT(t)||function S2(t,e){return t[OT]=e}(t,{previous:so,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new C2(u&&u.currentValue,e,o===so),t[r]=e}Fn.ngInherit=!0;const OT="__ngSimpleChanges__";function FT(t){return t[OT]||null}let zp;function Ue(t){return!!t.listen}const LT={createRenderer:(t,e)=>function Kp(){return void 0!==zp?zp:typeof document<"u"?document:void 0}()};function Ke(t){for(;Array.isArray(t);)t=t[0];return t}function Bl(t,e){return Ke(e[t])}function Vn(t,e){return Ke(e[t.index])}function Qp(t,e){return t.data[e]}function Dn(t,e){const n=e[t];return cn(n)?n:n[0]}function VT(t){return 4==(4&t[2])}function Yp(t){return 64==(64&t[2])}function pi(t,e){return null==e?null:t[e]}function UT(t){t[18]=0}function Jp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const W={lFrame:KT(null),bindingsEnabled:!0};function jT(){return W.bindingsEnabled}function E(){return W.lFrame.lView}function oe(){return W.lFrame.tView}function it(){let t=$T();for(;null!==t&&64===t.type;)t=t.parent;return t}function $T(){return W.lFrame.currentTNode}function gr(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function Xp(){return W.lFrame.isParent}function ho(){return W.lFrame.bindingIndex++}function z2(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,eg(e)}function eg(t){W.lFrame.currentDirectiveIndex=t}function qT(){return W.lFrame.currentQueryIndex}function ng(t){W.lFrame.currentQueryIndex=t}function Q2(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function WT(t,e,n){if(n&B.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&B.Host||(i=Q2(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=zT();return r.currentTNode=e,r.lView=t,!0}function $l(t){const e=zT(),n=t[1];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zT(){const t=W.lFrame,e=null===t?null:t.child;return null===e?KT(t):e}function KT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function QT(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const YT=QT;function Hl(){const t=QT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qt(){return W.lFrame.selectedIndex}function gi(t){W.lFrame.selectedIndex=t}function Be(){const t=W.lFrame;return Qp(t.tView,t.selectedIndex)}function Gl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function ql(t,e,n){JT(t,e,3,n)}function Wl(t,e,n,r){(3&t[2])===n&&JT(t,e,n,r)}function rg(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function JT(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(ij(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function ij(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Xa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function zl(t,e,n){const r=Ue(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];sg(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function XT(t){return 3===t||4===t||6===t}function sg(t){return 64===t.charCodeAt(0)}function Kl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ZT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ZT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function e0(t){return-1!==t}function fo(t){return 32767&t}function po(t,e){let n=function cj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let og=!0;function Ql(t){const e=og;return og=t,e}let lj=0;const mr={};function eu(t,e){const n=ug(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ag(r.data,t),ag(e,null),ag(r.blueprint,null));const i=Yl(t,e),s=t.injectorIndex;if(e0(i)){const o=fo(i),a=po(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function ag(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ug(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Yl(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=l0(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Jl(t,e,n){!function dj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(za)&&(r=n[za]),null==r&&(r=n[za]=lj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function r0(t,e,n){if(n&B.Optional)return t;Nl()}function s0(t,e,n,r){if(n&B.Optional&&void 0===r&&(r=null),0==(n&(B.Self|B.Host))){const i=t[9],s=fr(void 0);try{return i?i.get(e,r,n&B.Optional):AT(e,r,n&B.Optional)}finally{fr(s)}}return r0(r,0,n)}function o0(t,e,n,r=B.Default,i){if(null!==t){if(1024&e[2]){const o=function mj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=a0(s,o,n,r|B.Self,mr);if(a!==mr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,mr,r);if(l!==mr)return l}u=l0(o),o=o[15]}s=u}return i}(t,e,n,r,mr);if(o!==mr)return o}const s=a0(t,e,n,r,mr);if(s!==mr)return s}return s0(e,n,r,i)}function a0(t,e,n,r,i){const s=function pj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(za)?t[za]:void 0;return"number"==typeof e?e>=0?255&e:gj:e}(n);if("function"==typeof s){if(!WT(e,t,r))return r&B.Host?r0(i,0,r):s0(e,n,r,i);try{const o=s(r);if(null!=o||r&B.Optional)return o;Nl()}finally{YT()}}else if("number"==typeof s){let o=null,a=ug(t,e),u=-1,c=r&B.Host?e[16][6]:null;for((-1===a||r&B.SkipSelf)&&(u=-1===a?Yl(t,e):e[a+8],-1!==u&&c0(r,!1)?(o=e[1],a=fo(u),e=po(u,e)):a=-1);-1!==a;){const l=e[1];if(u0(s,a,l.data)){const d=fj(a,e,n,o,r,c);if(d!==mr)return d}u=e[a+8],-1!==u&&c0(r,e[1].data[a+8]===c)&&u0(s,a,e)?(o=l,a=fo(u),e=po(u,e)):a=-1}}return i}function fj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=Xl(a,o,n,null==r?Vl(a)&&og:r!=o&&0!=(3&a.type),i&B.Host&&s===a);return null!==l?tu(e,o,l,a):mr}function Xl(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Yn(f)&&f.type===n)return u}return null}function tu(t,e,n,r){let i=t[n];const s=e.data;if(function sj(t){return t instanceof Xa}(i)){const o=i;o.resolving&&function o2(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Z(-200,`Circular dependency in DI detected for ${t}${n}`)}(function fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():K(t)}(s[n]));const a=Ql(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?fr(o.injectImpl):null;WT(t,r,B.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function rj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=PT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&fr(u),Ql(a),o.resolving=!1,YT()}}return i}function u0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function c0(t,e){return!(t&B.Self||t&B.Host&&e)}class go{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return o0(this._tNode,this._lView,e,r,n)}}function gj(){return new go(it(),E())}function cg(t){return Pp(t)?()=>{const e=cg(G(t));return e&&e()}:Zi(t)}function l0(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}function nu(t){return function hj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(XT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(it(),t)}const yo="__parameters__";function vo(t,e,n){return fi(()=>{const r=function lg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(yo)?u[yo]:Object.defineProperty(u,yo,{value:[]})[yo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class H{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _j=new H("AnalyzeForEntryComponents");function bn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),bn(r,e)):e!==t&&e.push(r)}return e}function jr(t,e){t.forEach(n=>Array.isArray(n)?jr(n,e):e(n))}function h0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Cn(t,e,n){let r=wo(t,e);return r>=0?t[1|r]=n:(r=~r,function Ij(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function hg(t,e){const n=wo(t,e);if(n>=0)return t[1|n]}function wo(t,e){return function g0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const ou={},pg="__NG_DI_FLAG__",td="ngTempTokenPath",xj=/\n/gm,m0="__source";let au;function nd(t){const e=au;return au=t,e}function kj(t,e=B.Default){if(void 0===au)throw new Z(-203,"");return null===au?AT(t,void 0,e):au.get(t,e&B.Optional?null:void 0,e)}function F(t,e=B.Default){return(function p2(){return Lp}()||kj)(G(t),e)}function gg(t){const e=[];for(let n=0;n<t.length;n++){const r=G(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Z(900,"");let i,s=B.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Rj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function uu(t,e){return t[pg]=e,t.prototype[pg]=e,t}function Rj(t){return t[pg]}const rd=uu(vo("Inject",t=>({token:t})),-1),ot=uu(vo("Optional"),8),cu=uu(vo("SkipSelf"),4);class S0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function yi(t){return t instanceof S0?t.changingThisBreaksApplicationSecurity:t}const n$=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,r$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Qe=(()=>((Qe=Qe||{})[Qe.NONE=0]="NONE",Qe[Qe.HTML=1]="HTML",Qe[Qe.STYLE=2]="STYLE",Qe[Qe.SCRIPT=3]="SCRIPT",Qe[Qe.URL=4]="URL",Qe[Qe.RESOURCE_URL=5]="RESOURCE_URL",Qe))();function Eg(t){const e=function pu(){const t=E();return t&&t[12]}();return e?e.sanitize(Qe.URL,t)||"":function hu(t,e){const n=function Xj(t){return t instanceof S0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?yi(t):function ud(t){return(t=String(t)).match(n$)||t.match(r$)?t:"unsafe:"+t}(K(t))}const Dg=new Map;let y$=0;const Cg="__ngContext__";function Lt(t,e){cn(e)?(t[Cg]=e[20],function v$(t){Dg.set(t[20],t)}(e)):t[Cg]=e}function gu(t){const e=t[Cg];return"number"==typeof e?function L0(t){return Dg.get(t)||null}(e):e||null}function ld(t){const e=gu(t);return e?cn(e)?e:e.lView:null}function Ag(t){return t.ngOriginalError}function k$(t,...e){t.error(...e)}class Do{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function M$(t){return t&&t.ngErrorLogger||k$}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ag(e);for(;n&&Ag(n);)n=Ag(n);return n||null}}const j$=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(ve))();function $r(t){return t instanceof Function?t():t}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();function xg(t,e){return undefined(t,e)}function mu(t){const e=t[3];return Qn(e)?e[3]:e}function Mg(t){return z0(t[13])}function kg(t){return z0(t[4])}function z0(t){for(;null!==t&&!Qn(t);)t=t[4];return t}function Co(t,e,n,r,i){if(null!=r){let s,o=!1;Qn(r)?s=r:cn(r)&&(o=!0,r=r[0]);const a=Ke(r);0===t&&null!==n?null==i?Z0(e,n,a):es(e,n,a,i||null,!0):1===t&&null!==n?es(e,n,a,i||null,!0):2===t?function aA(t,e,n){const r=dd(t,e);r&&function nH(t,e,n,r){Ue(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function sH(t,e,n,r,i){const s=n[7];s!==Ke(n)&&Co(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];yu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Rg(t,e,n){if(Ue(t))return t.createElement(e,n);{const r=null!==n?function N2(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function Q0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Jp(i,-1)),n.splice(r,1)}function Pg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Q0(i,r),e>0&&(t[n-1][4]=r[4]);const s=Zl(t,10+e);!function K$(t,e){yu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Y0(t,e){if(!(128&e[2])){const n=e[11];Ue(n)&&n.destroyNode&&yu(t,e,n,3,null,null),function J$(t){let e=t[13];if(!e)return Og(t[1],t);for(;e;){let n=null;if(cn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)cn(e)&&Og(e[1],e),e=e[3];null===e&&(e=t),cn(e)&&Og(e[1],e),n=e&&e[4]}e=n}}(e)}}function Og(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function tH(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Xa)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function eH(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Ke(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Ue(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Qn(e[3])){n!==e[3]&&Q0(n,e);const r=e[19];null!==r&&r.detachView(t)}!function w$(t){Dg.delete(t[20])}(e)}}function J0(t,e,n){return function X0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===pr.None||i===pr.Emulated)return null}return Vn(r,n)}(t,e.parent,n)}function es(t,e,n,r,i){Ue(t)?t.insertBefore(e,n,r,i):(tA(e)?e.content:e).insertBefore(n,r,i)}function Z0(t,e,n){Ue(t)?t.appendChild(e,n):(tA(e)?e.content:e).appendChild(n)}function eA(t,e,n,r,i){null!==r?es(t,e,n,r,i):Z0(t,e,n)}function tA(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}function dd(t,e){return Ue(t)?t.parentNode(e):e.parentNode}let iA=function rA(t,e,n){return 40&t.type?Vn(t,n):null};function hd(t,e,n,r){const i=J0(t,r,e),s=e[11],a=function nA(t,e,n){return iA(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)eA(s,i,n[u],a,!1);else eA(s,i,n,a,!1)}function fd(t,e){if(null!==e){const n=e.type;if(3&n)return Vn(e,t);if(4&n)return Lg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return fd(t,r);{const i=t[e.index];return Qn(i)?Lg(-1,i):Ke(i)}}if(32&n)return xg(e,t)()||Ke(t[e.index]);{const r=oA(t,e);return null!==r?Array.isArray(r)?r[0]:fd(mu(t[16]),r):fd(t,e.next)}}return null}function oA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Lg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return fd(r,i)}return e[7]}function Vg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Lt(Ke(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Vg(t,e,n.child,r,i,s,!1),Co(e,t,i,a,s);else if(32&u){const c=xg(n,r);let l;for(;l=c();)Co(e,t,i,l,s);Co(e,t,i,a,s)}else 16&u?uA(t,e,r,n,i,s):Co(e,t,i,a,s);n=o?n.projectionNext:n.next}}function yu(t,e,n,r,i,s){Vg(n,r,t.firstChild,e,i,s,!1)}function uA(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Co(e,t,i,u[c],s);else Vg(t,e,u,o[3],i,s,!0)}function cA(t,e,n){Ue(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ug(t,e,n){Ue(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function lA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const dA="ng-template";function aH(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==lA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function hA(t){return 4===t.type&&t.value!==dA}function uH(t,e,n){return e===(4!==t.type||n?t.value:dA)}function cH(t,e,n){let r=4;const i=t.attrs||[],s=function hH(t){for(let e=0;e<t.length;e++)if(XT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!uH(t,u,n)||""===u&&1===e.length){if(Jn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!aH(t.attrs,c,n)){if(Jn(r))return!1;o=!0}continue}const d=lH(8&r?"class":u,i,hA(t),n);if(-1===d){if(Jn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==lA(f,c,0)||2&r&&c!==h){if(Jn(r))return!1;o=!0}}}}else{if(!o&&!Jn(r)&&!Jn(u))return!1;if(o&&Jn(u))continue;o=!1,r=u|1&r}}return Jn(r)||o}function Jn(t){return 0==(1&t)}function lH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function fH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fA(t,e,n=!1){for(let r=0;r<e.length;r++)if(cH(t,e[r],n))return!0;return!1}function pA(t,e){return t?":not("+e.trim()+")":e}function gH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Jn(o)&&(e+=pA(s,i),i=""),r=o,s=s||!Jn(r);n++}return""!==i&&(e+=pA(s,i)),e}const Q={};function _u(t){gA(oe(),E(),Qt()+t,!1)}function gA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&ql(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Wl(e,s,0,n)}gi(n)}const vA=new H("ENVIRONMENT_INITIALIZER"),wA=new H("INJECTOR_DEF_TYPES");function DH(...t){return{\u0275providers:IA(0,t)}}function IA(t,...e){const n=[],r=new Set;let i;return jr(e,s=>{const o=s;Bg(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&EA(i,n),n}function EA(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];jr(i,s=>{e.push(s)})}}function Bg(t,e,n,r){if(!(t=G(t)))return!1;let i=null,s=CT(t);const o=!s&&Ee(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=CT(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Bg(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{jr(s.imports,l=>{Bg(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&EA(c,e)}if(!a){const c=Zi(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:pe},{provide:wA,useValue:i,multi:!0},{provide:vA,useValue:()=>F(i),multi:!0})}const u=s.providers;null==u||a||jr(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}const bH=we({provide:String,useValue:we});function jg(t){return null!==t&&"object"==typeof t&&bH in t}function ts(t){return"function"==typeof t}const $g=new H("INJECTOR",-1);class CA{get(e,n=ou){if(n===ou){const r=new Error(`NullInjectorError: No provider for ${Ie(e)}!`);throw r.name="NullInjectorError",r}return n}}const Hg=new H("Set Injector scope."),pd={},TH={};let Gg;function qg(){return void 0===Gg&&(Gg=new CA),Gg}class ns{}class TA extends ns{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zg(e,o=>this.processProvider(o)),this.records.set($g,To(void 0,this)),i.has("environment")&&this.records.set(ns,To(void 0,this));const s=this.records.get(Hg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(wA.multi,pe,B.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}get(e,n=ou,r=B.Default){this.assertNotDestroyed();const i=nd(this),s=fr(void 0);try{if(!(r&B.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function kH(t){return"function"==typeof t||"object"==typeof t&&t instanceof H}(e)&&Op(e);a=u&&this.injectableDefInScope(u)?To(Wg(e),pd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&B.Self?qg():this.parent).get(e,n=r&B.Optional&&n===ou?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[td]=o[td]||[]).unshift(Ie(e)),i)throw o;return function Pj(t,e,n,r){const i=t[td];throw e[m0]&&i.unshift(e[m0]),t.message=function Oj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ie(e);if(Array.isArray(e))i=e.map(Ie).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ie(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(xj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[td]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{fr(s),nd(i)}}resolveInjectorInitializers(){const e=nd(this),n=fr(void 0);try{const r=this.get(vA.multi,pe,B.Self);for(const i of r)i()}finally{nd(e),fr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ie(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){let n=ts(e=G(e))?e:G(e&&e.provide);const r=function SH(t){return jg(t)?To(void 0,t.useValue):To(AA(t),pd)}(e);if(ts(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=To(void 0,pd,!0),i.factory=()=>gg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===pd&&(n.value=TH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function MH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=G(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Wg(t){const e=Op(t),n=null!==e?e.factory:Zi(t);if(null!==n)return n;if(t instanceof H)throw new Z(204,!1);if(t instanceof Function)return function AH(t){const e=t.length;if(e>0)throw function su(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new Z(204,!1);const n=function d2(t){const e=t&&(t[Rl]||t[TT]);if(e){const n=function h2(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Z(204,!1)}function AA(t,e,n){let r;if(ts(t)){const i=G(t);return Zi(i)||Wg(i)}if(jg(t))r=()=>G(t.useValue);else if(function bA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...gg(t.deps||[]));else if(function DA(t){return!(!t||!t.useExisting)}(t))r=()=>F(G(t.useExisting));else{const i=G(t&&(t.useClass||t.provide));if(!function xH(t){return!!t.deps}(t))return Zi(i)||Wg(i);r=()=>new i(...gg(t.deps))}return r}function To(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function NH(t){return!!t.\u0275providers}function zg(t,e){for(const n of t)Array.isArray(n)?zg(n,e):NH(n)?zg(n.\u0275providers,e):e(n)}function SA(t,e=null,n=null,r){const i=xA(t,e,n,r);return i.resolveInjectorInitializers(),i}function xA(t,e=null,n=null,r,i=new Set){const s=[n||pe,DH(t)];return r=r||("object"==typeof t?void 0:Ie(t)),new TA(s,e||qg(),r||null,i)}let Vt=(()=>{class t{static create(n,r){if(Array.isArray(n))return SA({name:""},r,n,"");{const i=n.name??"";return SA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=ou,t.NULL=new CA,t.\u0275prov=ne({token:t,providedIn:"any",factory:()=>F($g)}),t.__NG_ELEMENT_ID__=-1,t})();function b(t,e=B.Default){const n=E();return null===n?F(t,e):o0(it(),n,G(t),e)}function Xg(){throw new Error("invalid")}function md(t,e){return t<<17|e<<2}function Xn(t){return t>>17&32767}function Zg(t){return 2|t}function Hr(t){return(131068&t)>>2}function em(t,e){return-131069&t|e<<2}function tm(t){return 1|t}function WA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];ng(i),o.contentQueries(2,e[s],s)}}}function vu(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),UT(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function _$(){return y$++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function So(t,e,n,r,i){let s=t.data[e];if(null===s)s=function dm(t,e,n,r,i){const s=$T(),o=Xp(),u=t.data[e]=function aG(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function W2(){return W.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ja(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return gr(s,!0),s}function xo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wu(t,e,n){$l(e);try{const r=t.viewQuery;null!==r&&wm(1,r,n);const i=t.template;null!==i&&YA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&WA(t,e),t.staticViewQueries&&wm(2,t.viewQuery,n);const s=t.components;null!==s&&function iG(t,e){for(let n=0;n<e.length;n++)TG(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Hl()}}function Mo(t,e,n,r){const i=e[2];if(128!=(128&i)){$l(e);try{UT(e),function HT(t){return W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&YA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&ql(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Wl(e,c,0,null),rg(e,0)}if(function bG(t){for(let e=Mg(t);null!==e;e=kg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&Jp(s,1),i[2]|=512}}}(e),function DG(t){for(let e=Mg(t);null!==e;e=kg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Yp(r)&&Mo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&WA(t,e),o){const c=t.contentCheckHooks;null!==c&&ql(e,c)}else{const c=t.contentHooks;null!==c&&Wl(e,c,1),rg(e,1)}!function nG(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)gi(~i);else{const s=i,o=n[++r],a=n[++r];z2(o,s),a(2,e[s])}}}finally{gi(-1)}}(t,e);const a=t.components;null!==a&&function rG(t,e){for(let n=0;n<e.length;n++)CG(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&wm(2,u,r),o){const c=t.viewCheckHooks;null!==c&&ql(e,c)}else{const c=t.viewHooks;null!==c&&Wl(e,c,2),rg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Jp(e[3],-1))}finally{Hl()}}}function sG(t,e,n,r){const i=e[10],o=VT(e);try{!o&&i.begin&&i.begin(),o&&wu(t,e,r),Mo(t,e,n,r)}finally{!o&&i.end&&i.end()}}function YA(t,e,n,r,i){const s=Qt(),o=2&r;try{gi(-1),o&&e.length>22&&gA(t,e,22,!1),n(r,i)}finally{gi(s)}}function hm(t,e,n){!jT()||(function gG(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||eu(n,e),Lt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Yn(u);c&&wG(e,n,u);const l=tu(e,t,a,n);Lt(l,e),null!==o&&IG(0,a-i,l,u,0,o),c&&(Dn(n.index,e)[8]=l)}}(t,e,n,Vn(n,e)),128==(128&n.flags)&&function mG(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function K2(){return W.lFrame.currentDirectiveIndex}();try{gi(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];eg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&sS(u,c)}}finally{gi(-1),eg(o)}}(t,e,n))}function fm(t,e,n=Vn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function XA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=vd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function vd(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function oG(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Q);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function tS(t,e,n,r){const i=dS(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&hS(t).push(r,i.length-1))}function nS(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function pm(t,e,n,r){let i=!1;if(jT()){const s=function yG(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];fA(n,o.selectors,!1)&&(i||(i=[]),Jl(eu(n,e),t,o.type),Yn(o)?(oS(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,aS(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=xo(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=Kl(n.mergedAttrs,d.hostAttrs),uS(t,n,e,c,d),vG(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function uG(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||hA(e)?null:EG(d,s);o.push(h),a=nS(d,c,a),u=nS(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function _G(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Z(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Kl(n.mergedAttrs,n.attrs),i}function iS(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function pG(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function sS(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function oS(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function vG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Yn(e)&&(n[""]=t)}}function aS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function uS(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Zi(i.type)),o=new Xa(s,Yn(i),b);t.blueprint[r]=o,n[r]=o,iS(t,e,0,r,xo(t,n,i.hostVars,Q),i)}function wG(t,e,n){const r=Vn(e,t),i=XA(n),s=t[10],o=wd(t,vu(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function _r(t,e,n,r,i,s){const o=Vn(t,e);!function gm(t,e,n,r,i,s,o){if(null==s)Ue(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?K(s):o(s,r||"",i);Ue(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}function IG(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function EG(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function cS(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function CG(t,e){const n=Dn(e,t);if(Yp(n)){const r=n[1];48&n[2]?Mo(r,n,r.template,n[8]):n[5]>0&&mm(n)}}function mm(t){for(let r=Mg(t);null!==r;r=kg(r))for(let i=10;i<r.length;i++){const s=r[i];if(512&s[2]){const o=s[1];Mo(o,s,o.template,s[8])}else s[5]>0&&mm(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Dn(n[r],t);Yp(i)&&i[5]>0&&mm(i)}}function TG(t,e){const n=Dn(e,t),r=n[1];(function AG(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),wu(r,n,n[8])}function wd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ym(t){for(;t;){t[2]|=32;const e=mu(t);if(E2(t)&&!e)return t;t=e}return null}function lS(t){!function _m(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ld(n);if(null!==r){const i=r[1];sG(i,r,i.template,n)}}}(t[8])}function wm(t,e,n){ng(0),e(t,n)}const xG=(()=>Promise.resolve(null))();function dS(t){return t[7]||(t[7]=[])}function hS(t){return t.cleanup||(t.cleanup=[])}function pS(t,e){const n=t[9],r=n?n.get(Do,null):null;r&&r.handleError(e)}function gS(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Gr(t,e,n){const r=Bl(e,t);!function K0(t,e,n){Ue(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Id(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Rp(i,a):2==s&&(r=Rp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function BG(t,e){Gl(ld(t)[1],it())}function ye(t){let e=function AS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Yn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Em(t.inputs),o.declaredInputs=Em(t.declaredInputs),o.outputs=Em(t.outputs);const a=i.hostBindings;a&&GG(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&$G(t,u),c&&HG(t,c),Np(t.inputs,i.inputs),Np(t.declaredInputs,i.declaredInputs),Np(t.outputs,i.outputs),Yn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ye&&(n=!1)}}e=Object.getPrototypeOf(e)}!function jG(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Kl(i.hostAttrs,n=Kl(n,i.hostAttrs))}}(r)}function Em(t){return t===so?{}:t===pe?[]:t}function $G(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function HG(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function GG(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Ed=null;function rs(){if(!Ed){const t=ve.Symbol;if(t&&t.iterator)Ed=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ed=r)}}}return Ed}function Iu(t){return!!function Dm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&rs()in t)}function Ut(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function wr(t,e,n,r){const i=E();return Ut(i,ho(),e)&&(oe(),_r(Be(),i,t,e,n,r)),wr}function bm(t,e,n,r,i,s,o,a){const u=E(),c=oe(),l=t+22,d=c.firstCreatePass?function JG(t,e,n,r,i,s,o,a,u){const c=e.consts,l=So(e,t,4,o||null,pi(c,a));pm(e,n,l,pi(c,u)),Gl(e,l);const d=l.tViews=vd(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];gr(d,!1);const h=u[11].createComment("");hd(c,u,h,d),Lt(h,u),wd(u,u[l]=cS(h,u,h,d)),Ul(d)&&hm(c,u,d),null!=o&&fm(u,d,a)}function Du(t,e,n){const r=E();return Ut(r,ho(),e)&&function An(t,e,n,r,i,s,o,a){const u=Vn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(gS(t,n,l,r,i),Vl(e)&&function lG(t,e){const n=Dn(e,t);16&n[2]||(n[2]|=32)}(n,e.index)):3&e.type&&(r=function cG(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Ue(s)?s.setProperty(u,r,i):sg(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(oe(),Be(),r,t,e,r[11],n,!1),Du}function Cm(t,e,n,r,i){const o=i?"class":"style";gS(t,n,e.inputs[o],o,r)}function ae(t,e,n,r){const i=E(),s=oe(),o=22+t,a=i[11],u=i[o]=Rg(a,e,function nj(){return W.lFrame.currentNamespace}()),c=s.firstCreatePass?function eq(t,e,n,r,i,s,o){const a=e.consts,c=So(e,t,2,i,pi(a,s));return pm(e,n,c,pi(a,o)),null!==c.attrs&&Id(c,c.attrs,!1),null!==c.mergedAttrs&&Id(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];gr(c,!0);const l=c.mergedAttrs;null!==l&&zl(a,u,l);const d=c.classes;null!==d&&Ug(a,u,d);const h=c.styles;return null!==h&&cA(a,u,h),64!=(64&c.flags)&&hd(s,i,u,c),0===function V2(){return W.lFrame.elementDepthCount}()&&Lt(u,i),function U2(){W.lFrame.elementDepthCount++}(),Ul(c)&&(hm(s,i,c),function JA(t,e,n){if($p(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&fm(i,c),ae}function ue(){let t=it();Xp()?function Zp(){W.lFrame.isParent=!1}():(t=t.parent,gr(t,!1));const e=t;!function B2(){W.lFrame.elementDepthCount--}();const n=oe();return n.firstCreatePass&&(Gl(n,t),$p(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function aj(t){return 0!=(16&t.flags)}(e)&&Cm(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function uj(t){return 0!=(32&t.flags)}(e)&&Cm(n,e,E(),e.stylesWithoutHost,!1),ue}function Ir(t,e,n,r){return ae(t,e,n,r),ue(),Ir}function bu(t){return!!t&&"function"==typeof t.then}const xm=function VS(t){return!!t&&"function"==typeof t.subscribe};function ln(t,e,n,r){const i=E(),s=oe(),o=it();return function BS(t,e,n,r,i,s,o,a){const u=Ul(r),l=t.firstCreatePass&&hS(t),d=e[8],h=dS(e);let f=!0;if(3&r.type||a){const y=Vn(r,e),I=a?a(y):y,D=h.length,_=a?A=>a(Ke(A[r.index])):r.index;if(Ue(n)){let A=null;if(!a&&u&&(A=function rq(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=s,A.__ngLastListenerFn__=s,f=!1;else{s=Mm(r,e,d,s,!1);const O=n.listen(I,i,s);h.push(s,O),l&&l.push(i,_,D,D+1)}}else s=Mm(r,e,d,s,!0),I.addEventListener(i,s,o),h.push(s),l&&l.push(i,_,D,o)}else s=Mm(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const y=g.length;if(y)for(let I=0;I<y;I+=2){const V=e[g[I]][g[I+1]].subscribe(s),Me=h.length;h.push(s,V),l&&l.push(i,r.index,Me,-(Me+1))}}}(s,i,i[11],o,t,e,!!n,r),ln}function jS(t,e,n,r){try{return!1!==n(r)}catch(i){return pS(t,i),!1}}function Mm(t,e,n,r,i){return function s(o){if(o===Function)return r;ym(2&t.flags?Dn(t.index,e):e);let u=jS(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=jS(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function $S(t=1){return function Y2(t){return(W.lFrame.contextLView=function J2(t,e){for(;t>0;)e=e[15],t--;return e}(t,W.lFrame.contextLView))[8]}(t)}function XS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Xn(s):Hr(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];cq(t[a],e)&&(u=!0,t[a+1]=r?tm(l):Zg(l)),a=r?Xn(l):Hr(l)}u&&(t[n+1]=r?Zg(s):tm(s))}function cq(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wo(t,e)>=0}function bd(t,e){return function er(t,e,n,r){const i=E(),s=oe(),o=function Br(t){const e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function ax(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Qt()],o=function ox(t,e){return e>=t.expandoStartIndex}(t,n);(function dx(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function _q(t,e,n,r){const i=function tg(t){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Cu(n=Nm(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Nm(i,t,e,n,r),null===s){let u=function vq(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Hr(r))return t[Xn(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Nm(null,t,e,u[1],r),u=Cu(u,e.attrs,r),function wq(t,e,n,r){t[Xn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Iq(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Cu(r,t[s].hostAttrs,n);return Cu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function aq(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Xn(o),u=Hr(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||wo(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=Xn(t[a+1]);t[r+1]=md(h,a),0!==h&&(t[h+1]=em(t[h+1],r)),t[a+1]=function WH(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=md(a,0),0!==a&&(t[a+1]=em(t[a+1],r)),a=r;else t[r+1]=md(u,0),0===a?a=r:t[u+1]=em(t[u+1],r),u=r;c&&(t[r+1]=Zg(t[r+1])),XS(t,l,r,!0),XS(t,l,r,!1),function uq(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&wo(s,e)>=0&&(n[r+1]=tm(n[r+1]))}(e,l,t,r,s),o=md(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Q&&Ut(i,o,e)&&function cx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Cd(function VA(t){return 1==(1&t)}(c)?lx(u,e,n,i,Hr(c),o):void 0)||(Cd(s)||function LA(t){return 2==(2&t)}(c)&&(s=lx(u,null,n,i,a,o)),function oH(t,e,n,r,i){const s=Ue(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Tn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Tn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,Bl(Qt(),n),i,s))}(s,s.data[Qt()],i,i[11],t,i[o+1]=function bq(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ie(yi(t)))),t}(e,n),r,o)}(t,e,null,!0),bd}function Nm(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Cu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Cu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Cn(t,o,!!n||e[++s]))}return void 0===t?null:t}function lx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Q&&(h=d?pe:void 0);let f=d?hg(h,r):l===r?h:void 0;if(c&&!Cd(f)&&(f=hg(u,r)),Cd(f)&&(a=f,o))return a;const p=t[i+1];i=o?Xn(p):Hr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=hg(u,r))}return a}function Cd(t){return void 0!==t}function Te(t,e=""){const n=E(),r=oe(),i=t+22,s=r.firstCreatePass?So(r,i,1,e,null):r.data[i],o=n[i]=function Ng(t,e){return Ue(t)?t.createText(e):t.createTextNode(e)}(n[11],e);hd(r,n,o,s),gr(s,!1)}function Td(t){return Rm("",t,""),Td}function Rm(t,e,n){const r=E(),i=function No(t,e,n,r){return Ut(t,ho(),n)?e+K(n)+r:Q}(r,t,e,n);return i!==Q&&Gr(r,Qt(),i),Rm}const $o="en-US";let Rx=$o;function Fm(t,e,n,r,i){if(t=G(t),Array.isArray(t))for(let s=0;s<t.length;s++)Fm(t[s],e,n,r,i);else{const s=oe(),o=E();let a=ts(t)?t:G(t.provide),u=AA(t);const c=it(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ts(t)||!t.multi){const f=new Xa(u,i,b),p=Vm(a,e,i?l:l+h,d);-1===p?(Jl(eu(c,o),s,a),Lm(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Vm(a,e,l+h,d),p=Vm(a,e,l,l+h),g=f>=0&&n[f],y=p>=0&&n[p];if(i&&!y||!i&&!g){Jl(eu(c,o),s,a);const I=function $W(t,e,n,r,i){const s=new Xa(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,iM(s,i,r&&!n),s}(i?jW:BW,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),Lm(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else Lm(s,t,f>-1?f:p,iM(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Lm(t,e,n,r){const i=ts(e),s=function CH(t){return!!t.useClass}(e);if(i||s){const u=(s?G(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function iM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function BW(t,e,n,r){return Um(this.multi,[])}function jW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=tu(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Um(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Um(i,s);return s}function Um(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ne(t,e=[]){return n=>{n.providersResolver=(r,i)=>function UW(t,e,n){const r=oe();if(r.firstCreatePass){const i=Yn(t);Fm(n,r.data,r.blueprint,i,!0),Fm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class GW{resolveComponentFactory(e){throw function HW(t){const e=Error(`No component factory found for ${Ie(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Mu=(()=>{class t{}return t.NULL=new GW,t})();class wi{}class oM{}class aM{}function WW(){return Go(it(),E())}function Go(t,e){return new Sn(Vn(t,e))}let Sn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=WW,t})();function zW(t){return t instanceof Sn?t.nativeElement:t}class uM{}let qr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function QW(){const t=E(),n=Dn(it().index,t);return function KW(t){return t[11]}(cn(n)?n:t)}(),t})(),YW=(()=>{class t{}return t.\u0275prov=ne({token:t,providedIn:"root",factory:()=>null}),t})();class qo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cM=new qo("14.0.0"),Bm={};function kd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ke(s)),Qn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&kd(u[1],u,c,r)}const o=n.type;if(8&o)kd(t,e,n.child,r);else if(32&o){const a=xg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=oA(e,n);if(Array.isArray(a))r.push(...a);else{const u=mu(e[16]);kd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ku{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return kd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Qn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Pg(e,r),Zl(n,r))}this._attachedToViewContainer=!1}Y0(this._lView[1],this._lView)}onDestroy(e){tS(this._lView[1],this._lView,null,e)}markForCheck(){ym(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function vm(t,e,n){const r=e[10];r.begin&&r.begin();try{Mo(t,e,t.template,n)}catch(i){throw pS(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Y$(t,e){yu(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,"");this._appRef=e}}class JW extends ku{constructor(e){super(e),this._view=e}detectChanges(){lS(this._view)}checkNoChanges(){}get context(){return null}}class jm extends Mu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ee(e);return new $m(n,this.ngModule)}}function lM(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class ZW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,Bm,r);return i!==Bm||n===Bm?i:this.parentInjector.get(e,n,r)}}class $m extends aM{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function mH(t){return t.map(gH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return lM(this.componentDef.inputs)}get outputs(){return lM(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof ns?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new ZW(e,s):e,a=o.get(uM,LT),u=o.get(YW,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function eS(t,e,n){if(Ue(t))return t.selectRootElement(e,n===pr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,r,this.componentDef.encapsulation):Rg(a.createRenderer(null,this.componentDef),l,function XW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=function TS(t,e){return{components:[],scheduler:t||j$,clean:xG,playerHandler:e||null,flags:0}}(),p=vd(0,null,null,1,0,null,null,null,null,null),g=vu(null,p,f,h,null,null,a,c,u,o,null);let y,I;$l(g);try{const D=function bS(t,e,n,r,i,s){const o=n[1];n[22]=t;const u=So(o,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Id(u,c,!0),null!==t&&(zl(i,t,c),null!==u.classes&&Ug(i,t,u.classes),null!==u.styles&&cA(i,t,u.styles)));const l=r.createRenderer(t,e),d=vu(n,XA(e),null,e.onPush?32:16,n[22],u,r,l,s||null,null,null);return o.firstCreatePass&&(Jl(eu(u,n),o,e.type),oS(o,u),aS(u,n.length,1)),wd(n,d),n[22]=d}(d,this.componentDef,g,a,c);if(d)if(r)zl(c,d,["ng-version",cM.full]);else{const{attrs:_,classes:A}=function yH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Jn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);_&&zl(c,d,_),A&&A.length>0&&Ug(c,d,A.join(" "))}if(I=Qp(p,22),void 0!==n){const _=I.projection=[];for(let A=0;A<this.ngContentSelectors.length;A++){const O=n[A];_.push(null!=O?Array.from(O):null)}}y=function CS(t,e,n,r,i){const s=n[1],o=function fG(t,e,n){const r=it();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),uS(t,r,e,xo(t,e,1,null),n));const i=tu(e,t,r.directiveStart,r);Lt(i,e);const s=Vn(r,e);return s&&Lt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=it();e.contentQueries(1,o,u.directiveStart)}const a=it();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(gi(a.index),iS(n[1],a,0,a.directiveStart,a.directiveEnd,e),sS(e,o)),o}(D,this.componentDef,g,f,[BG]),wu(p,g,null)}finally{Hl()}return new tz(this.componentType,y,Go(I,g),g,I)}}class tz extends class qW{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new JW(i),this.componentType=e}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class dM extends wi{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jm(this);const r=In(e);this._bootstrapComponents=$r(r.bootstrap),this._r3Injector=xA(e,n,[{provide:wi,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver}],Ie(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(e)}get(e,n=Vt.THROW_IF_NOT_FOUND,r=B.Default){return e===Vt||e===wi||e===$g?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Hm extends oM{constructor(e){super(),this.moduleType=e}create(e){return new dM(this.moduleType,e)}}class rz extends wi{constructor(e,n,r){super(),this.componentFactoryResolver=new jm(this),this.instance=null;const i=new TA([...e,{provide:wi,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver}],n||qg(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Nd(t,e=null,n=null){return new rz(t,e,n).injector}function Gm(t){return e=>{setTimeout(t,void 0,e)}}const $e=class bz extends dr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Gm(s),i&&(i=Gm(i)),o&&(o=Gm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof yn&&e.add(a),a}};function Cz(){return this._results[rs()]()}class qm{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=rs(),r=qm.prototype;r[n]||(r[n]=Cz)}get changes(){return this._changes||(this._changes=new $e)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=bn(e);(this._changesDetected=!function vj(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sz,t})();const Tz=Wr,Az=class extends Tz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=vu(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),wu(r,i,e),new ku(i)}};function Sz(){return Rd(it(),E())}function Rd(t,e){return 4&t.type?new Az(e,t,Go(t,e)):null}let nr=(()=>{class t{}return t.__NG_ELEMENT_ID__=xz,t})();function xz(){return vM(it(),E())}const Mz=nr,yM=class extends Mz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Go(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const e=Yl(this._hostTNode,this._hostLView);if(e0(e)){const n=po(e,this._hostLView),r=fo(e);return new go(n[1].data[r+8],n)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=_M(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function iu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new $m(Ee(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(ns,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function L2(t){return Qn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new yM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function X$(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],h0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function Z$(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=Lg(s,o),u=r[11],c=dd(u,o[7]);return null!==c&&function Q$(t,e,n,r,i,s){r[0]=i,r[6]=e,yu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),h0(Wm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=_M(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Pg(this._lContainer,n);r&&(Zl(Wm(this._lContainer),n),Y0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Pg(this._lContainer,n);return r&&null!=Zl(Wm(this._lContainer),n)?new ku(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _M(t){return t[8]}function Wm(t){return t[8]||(t[8]=[])}function vM(t,e){let n;const r=e[t.index];if(Qn(r))n=r;else{let i;if(8&t.type)i=Ke(r);else{const s=e[11];i=s.createComment("");const o=Vn(t,e);es(s,dd(s,o),i,function rH(t,e){return Ue(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=cS(r,e,i,t),wd(e,n)}return new yM(n,t,e)}class zm{constructor(e){this.queryList=e,this.matches=null}clone(){return new zm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Km{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Km(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==CM(e,n).matches&&this.queries[n].setDirty()}}class wM{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Qm{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Qm(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ym{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Ym(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,Rz(n,s)),this.matchTNodeWithReadOption(e,n,Xl(n,e,s,!1,!1))}else r===Wr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Xl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Sn||i===nr||i===Wr&&4&n.type)this.addMatch(n.index,-2);else{const s=Xl(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function Rz(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Oz(t,e,n,r){return-1===n?function Pz(t,e){return 11&t.type?Go(t,e):4&t.type?Rd(t,e):null}(e,t):-2===n?function Fz(t,e,n){return n===Sn?Go(e,t):n===Wr?Rd(e,t):n===nr?vM(e,t):void 0}(t,e,r):tu(t,t[1],n,e)}function IM(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:Oz(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function Jm(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=IM(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&Jm(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];Jm(f[1],f,c,r)}}}}}return r}function Pd(t){const e=E(),n=oe(),r=qT();ng(r+1);const i=CM(n,r);if(t.dirty&&VT(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Jm(n,e,r,[]):IM(n,e,i,r);t.reset(s,zW),t.notifyOnChanges()}return!0}return!1}function Xm(t,e,n,r){const i=oe();if(i.firstCreatePass){const s=it();bM(i,new wM(e,n,r),s.index),function Vz(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}DM(i,E(),n)}function Od(){return function Lz(t,e){return t[19].queries[e].queryList}(E(),qT())}function DM(t,e,n){const r=new qm(4==(4&n));tS(t,e,r,r.destroy),null===e[19]&&(e[19]=new Km),e[19].queries.push(new zm(r))}function bM(t,e,n){null===t.queries&&(t.queries=new Qm),t.queries.track(new Ym(e,n))}function CM(t,e){return t.queries.getByIndex(e)}function Ld(...t){}const ry=new H("Application Initializer");let Vd=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ld,this.reject=Ld,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(bu(s))n.push(s);else if(xm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(ry,8))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ou=new H("AppId",{providedIn:"root",factory:function GM(){return`${iy()}${iy()}${iy()}`}});function iy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qM=new H("Platform Initializer"),Ud=new H("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),WM=new H("appBootstrapListener");let s3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const zr=new H("LocaleId",{providedIn:"root",factory:()=>function Nj(t,e=B.Default){return F(t,e)}(zr,B.Optional|B.SkipSelf)||function o3(){return typeof $localize<"u"&&$localize.locale||$o}()});class u3{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let sy=(()=>{class t{compileModuleSync(n){return new Hm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=$r(In(n).declarations).reduce((o,a)=>{const u=Ee(a);return u&&o.push(new $m(u)),o},[]);return new u3(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const l3=(()=>Promise.resolve(0))();function oy(t){typeof Zone>"u"?l3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function d3(){let t=ve.requestAnimationFrame,e=ve.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function p3(t){const e=()=>{!function f3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,uy(t),t.isCheckStableRunning=!0,ay(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),uy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return zM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),KM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return zM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),KM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,uy(t),ay(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,h3,Ld,Ld);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const h3={};function ay(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function KM(t){t._nesting--,ay(t)}class g3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const QM=new H(""),Bd=new H("");let dy,cy=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dy||(function m3(t){dy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fe.assertNotInAngularZone(),oy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(Fe),F(ly),F(Bd))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})(),ly=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return dy?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Ii=null;const YM=new H("AllowMultipleToken"),JM=new H("PlatformOnDestroy");class XM{constructor(e,n){this.name=e,this.token=n}}function ek(t,e,n=[]){const r=`Platform: ${e}`,i=new H(r);return(s=[])=>{let o=hy();if(!o||o.injector.get(YM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function v3(t){if(Ii&&!Ii.get(YM,!1))throw new Z(400,"");Ii=t;const e=t.get(nk);(function ZM(t){const e=t.get(qM,null);e&&e.forEach(n=>n())})(t)}(function tk(t=[],e){return Vt.create({name:e,providers:[{provide:Hg,useValue:"platform"},{provide:JM,useValue:()=>Ii=null},...t]})}(a,r))}return function I3(t){const e=hy();if(!e)throw new Z(401,"");return e}()}}function hy(){return Ii?.get(nk)??null}let nk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function E3(t,e){let n;return n="noop"===t?new g3:("zone.js"===t?void 0:t)||new Fe(e),n}(r?.ngZone,function rk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Fe,useValue:i}];return i.run(()=>{const o=Vt.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(Do,null);if(!u)throw new Z(402,"");return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{$d(this._modules,a),c.unsubscribe()})}),function ik(t,e,n){try{const r=n();return bu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Vd);return c.runInitializers(),c.donePromise.then(()=>(function Px(t){vn(t,"Expected localeId to be defined"),"string"==typeof t&&(Rx=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(zr,$o)||$o),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=sk({},r);return function y3(t,e,n){const r=new Hm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(jd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Z(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._injector.get(JM,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(Vt))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function sk(t,e){return Array.isArray(e)?e.reduce(sk,t):{...t,...e}}let jd=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Oe(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Oe(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),oy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function r2(...t){const e=qa(t),n=function YB(t,e){return"number"==typeof Mp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?hr(r[0]):io(n)(rt(r,e)):Fr}(o,a.pipe(function i2(t={}){const{connector:e=(()=>new dr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Dt((g,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=kp(p,i))}),I.subscribe(y),o||(o=new Al({next:D=>I.next(D),error:D=>{d=!0,h(),a=kp(f,n,D),I.error(D)},complete:()=>{l=!0,h(),a=kp(f,r),I.complete()}}),rt(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof aM;if(!this._initStatus.done)throw!i&&function zo(t){const e=Ee(t)||qt(t)||Wt(t);return null!==e&&e.standalone}(n),new Z(405,false);let s;s=i?n:this._injector.get(Mu).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const o=function _3(t){return t.isBoundToModule}(s)?void 0:this._injector.get(wi),u=s.create(Vt.NULL,[],r||s.selector,o),c=u.location.nativeElement,l=u.injector.get(QM,null);return l?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),$d(this.components,u),l?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Z(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;$d(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(WM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$d(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Z(406,false);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(F(Fe),F(Vt),F(Do),F(Vd))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $d(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let ak=!0,Hd=(()=>{class t{}return t.__NG_ELEMENT_ID__=C3,t})();function C3(t){return function T3(t,e,n){if(Vl(t)&&!n){const r=Dn(t.index,e);return new ku(r,r)}return 47&t.type?new ku(e[16],e):null}(it(),E(),16==(16&t))}class hk{constructor(){}supports(e){return Iu(e)}create(e){return new N3(e)}}const k3=(t,e)=>e;class N3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||k3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<pk(r,i,s)?n:r,a=pk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Iu(e))throw new Z(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function QG(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[rs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new R3(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new fk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class R3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class P3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class fk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new P3,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function mk(){return new Wd([new hk])}let Wd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||mk()),deps:[[t,new cu,new ot]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Z(901,"")}}return t.\u0275prov=ne({token:t,providedIn:"root",factory:mk}),t})();const U3=ek(null,"core",[]);let B3=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(jd))},t.\u0275mod=Pn({type:t}),t.\u0275inj=wn({}),t})();function Kr(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let zd=null;function Cr(){return zd}const dn=new H("DocumentToken");let Lu=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:function(){return function G3(){return F(_k)}()},providedIn:"platform"}),t})();const q3=new H("Location Initialized");let _k=(()=>{class t extends Lu{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cr().getBaseHref(this._doc)}onPopState(n){const r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){vk()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){vk()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(dn))},t.\u0275prov=ne({token:t,factory:function(){return function W3(){return new _k(F(dn))}()},providedIn:"platform"}),t})();function vk(){return!!window.history.pushState}function yy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function wk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Qr(t){return t&&"?"!==t[0]?"?"+t:t}let Qo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:function(){return function z3(){const t=F(dn).location;return new Ik(F(Lu),t&&t.origin||"")}()},providedIn:"root"}),t})();const _y=new H("appBaseHref");let Ik=(()=>{class t extends Qo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return yy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Qr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Qr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(F(Lu),F(_y,8))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})(),K3=(()=>{class t extends Qo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=yy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Qr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(F(Lu),F(_y,8))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})(),vy=(()=>{class t{constructor(n){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=wk(Ek(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Qr(r))}normalize(n){return t.stripTrailingSlash(function Y3(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ek(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Qr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Qr,t.joinWithSlash=yy,t.stripTrailingSlash=wk,t.\u0275fac=function(n){return new(n||t)(F(Qo))},t.\u0275prov=ne({token:t,factory:function(){return function Q3(){return new vy(F(Qo))}()},providedIn:"root"}),t})();function Ek(t){return t.replace(/\/index.html$/,"")}class F4{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nk=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new F4(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Rk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Rk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(nr),b(Wr),b(Wd))},t.\u0275dir=$({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Rk(t,e){t.context.$implicit=e.item}let Pk=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new L4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ok("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ok("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(nr),b(Wr))},t.\u0275dir=$({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class L4{constructor(){this.$implicit=null,this.ngIf=null}}function Ok(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ie(e)}'.`)}let l8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=wn({}),t})();let p8=(()=>{class t{}return t.\u0275prov=ne({token:t,providedIn:"root",factory:()=>new g8(F(dn),window)}),t})();class g8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function m8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Uk(this.window.history)||Uk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Uk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ry extends class _8 extends class H3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function $3(t){zd||(zd=t)}(new Ry)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function v8(){return Bu=Bu||document.querySelector("base"),Bu?Bu.getAttribute("href"):null}();return null==n?null:function w8(t){rh=rh||document.createElement("a"),rh.setAttribute("href",t);const e=rh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Bu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function R4(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let rh,Bu=null;const Bk=new H("TRANSITION_ID"),E8=[{provide:ry,useFactory:function I8(t,e,n){return()=>{n.get(Vd).donePromise.then(()=>{const r=Cr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Bk,dn,Vt],multi:!0}];let b8=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();const ih=new H("EventManagerPlugins");let sh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(ih),F(Fe))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();class jk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Cr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let $k=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})(),ju=(()=>{class t extends $k{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Hk),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Hk))}}return t.\u0275fac=function(n){return new(n||t)(F(dn))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();function Hk(t){Cr().remove(t)}const Py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oy=/%COMP%/g;function oh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?oh(t,i,n):(i=i.replace(Oy,t),n.push(i))}return n}function Wk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Fy=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ly(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case pr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new M8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case pr.ShadowDom:return new k8(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=oh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F(sh),F(ju),F(Ou))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();class Ly{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Py[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(Kk(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Kk(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Py[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Py[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Wk(r)):this.eventManager.addEventListener(e,n,Wk(r))}}function Kk(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class M8 extends Ly{constructor(e,n,r,i){super(e),this.component=r;const s=oh(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function A8(t){return"_ngcontent-%COMP%".replace(Oy,t)}(i+"-"+r.id),this.hostAttr=function S8(t){return"_nghost-%COMP%".replace(Oy,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class k8 extends Ly{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=oh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let N8=(()=>{class t extends jk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(dn))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();const Qk=["alt","control","meta","shift"],P8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},O8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let F8=(()=>{class t extends jk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Qk.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function L8(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Yk.hasOwnProperty(e)&&(e=Yk[e]))}return P8[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Qk.forEach(s=>{s!=i&&O8[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(dn))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();const Jk=[{provide:Ud,useValue:"browser"},{provide:qM,useValue:function V8(){Ry.makeCurrent()},multi:!0},{provide:dn,useFactory:function B8(){return function R2(t){zp=t}(document),document},deps:[]}],j8=ek(U3,"browser",Jk),Xk=new H(""),Zk=[{provide:Bd,useClass:class D8{addToWindow(e){ve.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),ve.getAllAngularRootElements=()=>e.getAllRootElements(),ve.frameworkStabilizers||(ve.frameworkStabilizers=[]),ve.frameworkStabilizers.push(r=>{const i=ve.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Cr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:QM,useClass:cy,deps:[Fe,ly,Bd]},{provide:cy,useClass:cy,deps:[Fe,ly,Bd]}],eN=[{provide:Hg,useValue:"root"},{provide:Do,useFactory:function U8(){return new Do},deps:[]},{provide:ih,useClass:N8,multi:!0,deps:[dn,Fe,Ud]},{provide:ih,useClass:F8,multi:!0,deps:[dn]},{provide:Fy,useClass:Fy,deps:[sh,ju,Ou]},{provide:uM,useExisting:Fy},{provide:$k,useExisting:ju},{provide:ju,useClass:ju,deps:[dn]},{provide:sh,useClass:sh,deps:[ih,Fe]},{provide:class y8{},useClass:b8,deps:[]},[]];let $8=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ou,useValue:n.appId},{provide:Bk,useExisting:Ou},E8]}}}return t.\u0275fac=function(n){return new(n||t)(F(Xk,12))},t.\u0275mod=Pn({type:t}),t.\u0275inj=wn({providers:[...eN,...Zk],imports:[l8,B3]}),t})(),tN=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(F(dn))},t.\u0275prov=ne({token:t,factory:function(n){let r=null;return r=n?new n:function G8(){return new tN(F(dn))}(),r},providedIn:"root"}),t})();function Y(...t){return rt(t,qa(t))}typeof window<"u"&&window;class sr extends dr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Z8}=Array,{getPrototypeOf:eK,prototype:tK,keys:nK}=Object;function iN(t){if(1===t.length){const e=t[0];if(Z8(e))return{args:e,keys:null};if(function rK(t){return t&&"object"==typeof t&&eK(t)===tK}(e)){const n=nK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:iK}=Array;function sN(t){return _e(e=>function sK(t,e){return iK(e)?t(...e):t(e)}(t,e))}function oN(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function aN(...t){const e=qa(t),n=ET(t),{args:r,keys:i}=iN(t);if(0===r.length)return rt([],e);const s=new Oe(function oK(t,e,n=zi){return r=>{uN(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)uN(e,()=>{const c=rt(t[u],e);let l=!1;c.subscribe(ft(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>oN(i,o):zi));return n?s.pipe(sN(n)):s}function uN(t,e,n){t?Or(n,t,e):e()}function $u(t,e){const n=De(t)?t:()=>t,r=i=>i.error(n());return new Oe(e?i=>e.schedule(r,0,i):r)}const Hu=Ga(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function By(...t){return function aK(){return io(1)}()(rt(t,qa(t)))}function cN(t){return new Oe(e=>{hr(t()).subscribe(e)})}function jy(){return Dt((t,e)=>{let n=null;t._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class lN extends Oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,aT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yn;const n=this.getSubject();e.add(this.source.subscribe(ft(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yn.EMPTY)}return e}refCount(){return jy()(this)}}function as(t,e){return Dt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ft(r,u=>{i?.unsubscribe();let c=0;const l=s++;hr(t(u,l)).subscribe(i=ft(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function cK(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ft(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function dN(t,e){return Dt(cK(t,e,arguments.length>=2,!0))}function Yo(t,e){return Dt((n,r)=>{let i=0;n.subscribe(ft(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Di(t){return Dt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ft(n,void 0,void 0,o=>{s=hr(t(o,Di(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Gu(t,e){return De(e)?bt(t,e,1):bt(t,1)}function $y(t){return t<=0?()=>Fr:Dt((e,n)=>{let r=[];e.subscribe(ft(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hN(t=lK){return Dt((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lK(){return new Hu}function Hy(t){return Dt((e,n)=>{let r=!1;e.subscribe(ft(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function us(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yo((i,s)=>t(i,s,r)):zi,Wa(1),n?Hy(e):hN(()=>new Hu))}function Ct(t,e,n){const r=De(t)||e||n?{next:t,error:e,complete:n}:t;return r?Dt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ft(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):zi}function Gy(t){return Dt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}class Jr{constructor(e,n){this.id=e,this.url=n}}class qy extends Jr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qu extends Jr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fN extends Jr{constructor(e,n,r){super(e,n),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fK extends Jr{constructor(e,n,r){super(e,n),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pK extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gK extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mK extends Jr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yK extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _K extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pN{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const re="primary";class CK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Jo(t){return new CK(t)}const gN="ngNavigationCancelingError";function Wy(t){const e=Error("NavigationCancelingError: "+t);return e[gN]=!0,e}function AK(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Tr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!mN(t[i],e[i]))return!1;return!0}function mN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function yN(t){return Array.prototype.concat.apply([],t)}function _N(t){return t.length>0?t[t.length-1]:null}function Tt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function or(t){return xm(t)?t:bu(t)?rt(Promise.resolve(t)):Y(t)}const MK={exact:function IN(t,e,n){if(!ls(t.segments,e.segments)||!ah(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!IN(t.children[r],e.children[r],n))return!1;return!0},subset:EN},vN={exact:function kK(t,e){return Tr(t,e)},subset:function NK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mN(t[n],e[n]))},ignored:()=>!0};function wN(t,e,n){return MK[n.paths](t.root,e.root,n.matrixParams)&&vN[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function EN(t,e,n){return DN(t,e,e.segments,n)}function DN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ls(i,n)||e.hasChildren()||!ah(i,n,r))}if(t.segments.length===n.length){if(!ls(t.segments,n)||!ah(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!EN(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ls(t.segments,i)&&ah(t.segments,i,r)&&t.children[re])&&DN(t.children[re],e,s,r)}}function ah(t,e,n){return e.every((r,i)=>vN[n](t[i].parameters,r.parameters))}class cs{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return OK.serialize(this)}}class se{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Tt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uh(this)}}class Wu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Jo(this.parameters)),this._parameterMap}toString(){return SN(this)}}function ls(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class bN{}class CN{parse(e){const n=new GK(e);return new cs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${zu(e.root,!0)}`,r=function VK(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${ch(n)}=${ch(i)}`).join("&"):`${ch(n)}=${ch(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function FK(t){return encodeURI(t)}(e.fragment)}`:""}`}}const OK=new CN;function uh(t){return t.segments.map(e=>SN(e)).join("/")}function zu(t,e){if(!t.hasChildren())return uh(t);if(e){const n=t.children[re]?zu(t.children[re],!1):"",r=[];return Tt(t.children,(i,s)=>{s!==re&&r.push(`${s}:${zu(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function PK(t,e){let n=[];return Tt(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),Tt(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[zu(t.children[re],!1)]:[`${i}:${zu(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${uh(t)}/${n[0]}`:`${uh(t)}/(${n.join("//")})`}}function TN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ch(t){return TN(t).replace(/%3B/gi,";")}function zy(t){return TN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lh(t){return decodeURIComponent(t)}function AN(t){return lh(t.replace(/\+/g,"%20"))}function SN(t){return`${zy(t.path)}${function LK(t){return Object.keys(t).map(e=>`;${zy(e)}=${zy(t[e])}`).join("")}(t.parameters)}`}const UK=/^[^\/()?;=#]+/;function dh(t){const e=t.match(UK);return e?e[0]:""}const BK=/^[^=?&#]+/,$K=/^[^&#]+/;class GK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new se(e,n)),r}parseSegment(){const e=dh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Wu(lh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=dh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=dh(this.remaining);i&&(r=i,this.capture(r))}e[lh(n)]=lh(r)}parseQueryParam(e){const n=function jK(t){const e=t.match(BK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function HK(t){const e=t.match($K);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=AN(n),s=AN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class xN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Ky(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Ky(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Qy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qy(e,this._root).map(n=>n.value)}}function Ky(t,e){if(t===e.value)return e;for(const n of e.children){const r=Ky(t,n);if(r)return r}return null}function Qy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qy(t,n);if(r.length)return r.unshift(e),r}return[]}class Xr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Xo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class MN extends xN{constructor(e,n){super(e),this.snapshot=n,Yy(this,e)}toString(){return this.snapshot.toString()}}function kN(t,e){const n=function qK(t,e){const o=new hh([],{},{},"",{},re,e,null,t.root,-1,{});return new RN("",new Xr(o,[]))}(t,e),r=new sr([new Wu("",{})]),i=new sr({}),s=new sr({}),o=new sr({}),a=new sr(""),u=new Zo(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new MN(new Xr(u,[]),n)}class Zo{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>Jo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>Jo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function WK(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class hh{constructor(e,n,r,i,s,o,a,u,c,l,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RN extends xN{constructor(e,n){super(n),this.url=e,Yy(this,n)}toString(){return PN(this._root)}}function Yy(t,e){e.value._routerState=t,e.children.forEach(n=>Yy(t,n))}function PN(t){const e=t.children.length>0?` { ${t.children.map(PN).join(", ")} } `:"";return`${t.value}${e}`}function Jy(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Tr(e.params,n.params)||t.params.next(n.params),function SK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Tr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Xy(t,e){const n=Tr(t.params,e.params)&&function RK(t,e){return ls(t,e)&&t.every((n,r)=>Tr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Xy(t.parent,e.parent))}function Ku(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function KK(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ku(t,r,i);return Ku(t,r)})}(t,e,n);return new Xr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ku(t,a)),o}}const r=function QK(t){return new Zo(new sr(t.url),new sr(t.params),new sr(t.queryParams),new sr(t.fragment),new sr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ku(t,s));return new Xr(r,i)}}function fh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Qu(t){return"object"==typeof t&&null!=t&&t.outlets}function Zy(t,e,n,r,i){let s={};if(r&&Tt(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),t===e)return new cs(n,s,i);const o=ON(t,e,n);return new cs(o,s,i)}function ON(t,e,n){const r={};return Tt(t.children,(i,s)=>{r[s]=i===e?n:ON(i,e,n)}),new se(t.segments,r)}class FN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Qu);if(i&&i!==_N(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class e_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function LN(t,e,n){if(t||(t=new se([],{})),0===t.segments.length&&t.hasChildren())return ph(t,e,n);const r=function t6(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Qu(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!UN(u,c,o))return s;r+=2}else{if(!UN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new se(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new se(t.segments.slice(r.pathIndex),t.children),ph(s,0,i)}return r.match&&0===i.length?new se(t.segments,{}):r.match&&!t.hasChildren()?t_(t,e,n):r.match?ph(t,0,i):t_(t,e,n)}function ph(t,e,n){if(0===n.length)return new se(t.segments,{});{const r=function e6(t){return Qu(t[0])?t[0].outlets:{[re]:t}}(n),i={};return Tt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=LN(t.children[o],e,s))}),Tt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new se(t.segments,i)}}function t_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Qu(s)){const u=n6(s.outlets);return new se(r,u)}if(0===i&&fh(n[0])){r.push(new Wu(t.segments[e].path,VN(n[0]))),i++;continue}const o=Qu(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&fh(a)?(r.push(new Wu(o,VN(a))),i+=2):(r.push(new Wu(o,{})),i++)}return new se(r,{})}function n6(t){const e={};return Tt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=t_(new se([],{}),0,n))}),e}function VN(t){const e={};return Tt(t,(n,r)=>e[r]=`${n}`),e}function UN(t,e,n){return t==n.path&&Tr(e,n.parameters)}class r6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yu,this.attachRef=null}}class Yu{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new r6,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let Ju=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.name=i||re,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new i6(n,a,i.injector);if(r&&function s6(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(b(Yu),b(nr),nu("name"),b(Hd),b(ns))},t.\u0275dir=$({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class i6{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Zo?this.route:e===Yu?this.childContexts:this.parent.get(e,n)}}let BN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Ir(0,"router-outlet")},dependencies:[Ju],encapsulation:2}),t})();function jN(t,e){return t.providers&&!t._injector&&(t._injector=Nd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function r_(t){const e=t.children&&t.children.map(r_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=BN),n}function $n(t){return t.outlet||re}function $N(t,e){const n=t.filter(r=>$n(r)===e);return n.push(...t.filter(r=>$n(r)!==e)),n}function HN(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class l6{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Jy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Xo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Tt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Xo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Xo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Xo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new EK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Jy(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Jy(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=HN(i.snapshot),u=a?.get(Mu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function bi(t){return"function"==typeof t}function ds(t){return t instanceof cs}const Xu=Symbol("INITIAL_VALUE");function Zu(){return as(t=>aN(t.map(e=>e.pipe(Wa(1),function uK(...t){const e=qa(t);return Dt((n,r)=>{(e?By(t,n,e):By(t,n)).subscribe(r)})}(Xu)))).pipe(dN((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Xu?i:(s===Xu&&(r=!0),r||!1!==s&&o!==n.length-1&&!ds(s)?i:s),e)},Xu),Yo(e=>e!==Xu),_e(e=>ds(e)?e:!0===e),Wa(1)))}const GN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...GN}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||AK)(n,t,e);if(!i)return{...GN};const s={};Tt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function mh(t,e,n,r,i="corrected"){if(n.length>0&&function _6(t,e,n){return n.some(r=>yh(t,e,r)&&$n(r)!==re)}(t,n,r)){const o=new se(e,function y6(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&$n(s)!==re){const o=new se([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[$n(s)]=o}return i}(t,e,r,new se(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function v6(t,e,n){return n.some(r=>yh(t,e,r))}(t,n,r)){const o=new se(t.segments,function m6(t,e,n,r,i,s){const o={};for(const a of r)if(yh(t,n,a)&&!i[$n(a)]){const u=new se([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[$n(a)]=u}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new se(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function yh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function qN(t,e,n,r){return!!($n(t)===r||r!==re&&yh(e,n,t))&&("**"===t.path||gh(e,t,n).matched)}function WN(t,e,n){return 0===e.length&&!t.children[n]}class _h{constructor(e){this.segmentGroup=e||null}}class zN{constructor(e){this.urlTree=e}}function ec(t){return $u(new _h(t))}function KN(t){return $u(new zN(t))}class D6{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=mh(this.urlTree.root,[],[],this.config).segmentGroup,n=new se(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,re).pipe(_e(s=>this.createUrlTree(i_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Di(s=>{if(s instanceof zN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof _h?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,re).pipe(_e(i=>this.createUrlTree(i_(i),e.queryParams,e.fragment))).pipe(Di(i=>{throw i instanceof _h?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new se([],{[re]:e}):e;return new cs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(_e(s=>new se([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return rt(i).pipe(Gu(s=>{const o=r.children[s],a=$N(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(_e(u=>({segment:u,outlet:s})))}),dN((s,o)=>(s[o.outlet]=o.segment,s),{}),function dK(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yo((i,s)=>t(i,s,r)):zi,$y(1),n?Hy(e):hN(()=>new Hu))}())}expandSegment(e,n,r,i,s,o){return rt(r).pipe(Gu(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Di(c=>{if(c instanceof _h)return Y(null);throw c}))),us(a=>!!a),Di((a,u)=>{if(a instanceof Hu||"EmptyError"===a.name)return WN(n,i,s)?Y(new se([],{})):ec(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return qN(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):ec(n):ec(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?KN(s):this.lineralizeSegments(r,s).pipe(bt(o=>{const a=new se(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=gh(n,i,s);if(!a)return ec(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?KN(d):this.lineralizeSegments(i,d).pipe(bt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return e=jN(r,e),r.loadChildren?(r._loadedRoutes?Y({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(_e(d=>(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,new se(i,{})))):Y(new se(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=gh(n,r,i);return o?(e=jN(r,e),this.getChildConfig(e,r,i).pipe(bt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=mh(n,a,u,h),g=new se(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(_e(_=>new se(a,_)));if(0===h.length&&0===p.length)return Y(new se(a,{}));const y=$n(r)===s;return this.expandSegment(d,g,h,p,y?re:s,!0).pipe(_e(D=>new se(a.concat(D.segments),D.children)))}))):ec(n)}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):this.runCanLoadGuards(e,n,r).pipe(bt(i=>i?this.configLoader.loadChildren(e,n).pipe(Ct(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function I6(t){return $u(Wy(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):Y({routes:[],injector:e})}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?Y(i.map(o=>{const a=e.get(o);let u;if(function h6(t){return t&&bi(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!bi(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return or(u)})).pipe(Zu(),Ct(o=>{if(!ds(o))return;const a=Wy(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),_e(o=>!0===o)):Y(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[re])return $u(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new cs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Tt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Tt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function i_(t){const e={};for(const r of Object.keys(t.children)){const s=i_(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function b6(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new se(t.segments.concat(e.segments),e.children)}return t}(new se(t.segments,e))}class QN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vh{constructor(e,n){this.component=e,this.route=n}}function T6(t,e,n){const r=t._root;return tc(r,e?e._root:null,n,[r.value])}function wh(t,e,n){return(HN(e)??n).get(t)}function tc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Xo(e);return t.children.forEach(o=>{(function S6(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function x6(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ls(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ls(t.url,e.url)||!Tr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xy(t,e)||!Tr(t.queryParams,e.queryParams);default:return!Xy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new QN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),tc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vh(a.outlet.component,o))}else o&&nc(e,a,i),i.canActivateChecks.push(new QN(r)),tc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Tt(s,(o,a)=>nc(o,n.getContext(a),i)),i}function nc(t,e,n){const r=Xo(t),i=t.value;Tt(r,(s,o)=>{nc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new vh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class V6{}function JN(t){return new Oe(e=>e.error(t))}class B6{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=mh(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,re);if(null===n)return null;const r=new hh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xr(r,n),s=new RN(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=NN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=$N(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=XN(r);return function j6(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return WN(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!qN(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?_N(r).parameters:{},p=eR(n)+r.length;s=new hh(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nR(e),$n(e),e.component??e._loadedComponent??null,e,ZN(n),p,rR(e),p)}else{const f=gh(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments;const p=eR(n)+o.length;s=new hh(o,f.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nR(e),$n(e),e.component??e._loadedComponent??null,e,ZN(n),p,rR(e),p)}const u=function $6(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:c,slicedSegments:l}=mh(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new Xr(s,f)]}if(0===u.length&&0===l.length)return[new Xr(s,[])];const d=$n(e)===i,h=this.processSegment(u,c,l,d?re:i);return null===h?null:[new Xr(s,h)]}}function H6(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function XN(t){const e=[],n=new Set;for(const r of t){if(!H6(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=XN(r.children);e.push(new Xr(r.value,i))}return e.filter(r=>!n.has(r))}function ZN(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function eR(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function nR(t){return t.data||{}}function rR(t){return t.resolve||{}}const s_=Symbol("RouteTitle");function iR(t){return"string"==typeof t.title||null===t.title}function Ih(t){return as(e=>{const n=t(e);return n?rt(n).pipe(_e(()=>e)):Y(e)})}class X6 extends class J6{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const o_=new H("ROUTES");let a_=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=or(n.loadComponent()).pipe(Ct(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Gy(()=>{this.componentLoaders.delete(n)})),i=new lN(r,()=>new dr).pipe(jy());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(_e(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=yN(u.get(o_,[],B.Self|B.Optional)));return{routes:c.map(r_),injector:u}}),Gy(()=>{this.childrenLoaders.delete(r)})),o=new lN(s,()=>new dr).pipe(jy());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return or(n()).pipe(bt(r=>r instanceof oM||Array.isArray(r)?Y(r):rt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(F(Vt),F(sy))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();class e5{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function n5(t){throw t}function r5(t,e,n){return e.parse("/")}function oR(t,e){return Y(null)}const i5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},s5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dr,this.errorHandler=n5,this.malformedUriErrorHandler=r5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:oR,afterPreactivation:oR},this.urlHandlingStrategy=new e5,this.routeReuseStrategy=new X6,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(a_),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new wK(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new vK(h)),this.ngModule=o.get(wi),this.console=o.get(s3);const d=o.get(Fe);this.isNgZoneEnabled=d instanceof Fe&&Fe.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function xK(){return new cs(new se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kN(this.currentUrlTree,this.rootComponentType),this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Yo(i=>0!==i.id),_e(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),as(i=>{let s=!1,o=!1;return Y(i).pipe(Ct(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),as(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return aR(a.source)&&(this.browserUrlTree=a.extractedUrl),Y(a).pipe(as(d=>{const h=this.transitions.getValue();return r.next(new qy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Fr:Promise.resolve(d)}),function C6(t,e,n,r){return as(i=>function E6(t,e,n,r,i){return new D6(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(_e(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ct(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects}}),function G6(t,e,n,r,i){return bt(s=>function U6(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new B6(t,e,n,r,i,s).recognize();return null===o?JN(new V6):Y(o)}catch(o){return JN(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(_e(o=>({...s,targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ct(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new pK(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=a,I=new qy(h,this.serializeUrl(f),p,g);r.next(I);const D=kN(f,this.rootComponentType).snapshot;return Y({...a,targetSnapshot:D,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Fr}),Ih(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Ct(a=>{const u=new gK(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),_e(a=>({...a,guards:T6(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function M6(t,e){return bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y({...n,guardsResult:!0}):function k6(t,e,n,r){return rt(t).pipe(bt(i=>function L6(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=wh(a,e,i);let c;if(function g6(t){return t&&bi(t.canDeactivate)}(u))c=or(u.canDeactivate(t,e,n,r));else{if(!bi(u))throw new Error("Invalid CanDeactivate guard");c=or(u(t,e,n,r))}return c.pipe(us())})).pipe(Zu()):Y(!0)}(i.component,i.route,n,e,r)),us(i=>!0!==i,!0))}(o,r,i,t).pipe(bt(a=>a&&function d6(t){return"boolean"==typeof t}(a)?function N6(t,e,n,r){return rt(e).pipe(Gu(i=>By(function P6(t,e){return null!==t&&e&&e(new IK(t)),Y(!0)}(i.route.parent,r),function R6(t,e){return null!==t&&e&&e(new DK(t)),Y(!0)}(i.route,r),function F6(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function A6(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>cN(()=>Y(o.guards.map(u=>{const c=wh(u,o.node,n);let l;if(function p6(t){return t&&bi(t.canActivateChild)}(c))l=or(c.canActivateChild(r,t));else{if(!bi(c))throw new Error("Invalid CanActivateChild guard");l=or(c(r,t))}return l.pipe(us())})).pipe(Zu())));return Y(s).pipe(Zu())}(t,i.path,n),function O6(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>cN(()=>{const o=wh(s,e,n);let a;if(function f6(t){return t&&bi(t.canActivate)}(o))a=or(o.canActivate(e,t));else{if(!bi(o))throw new Error("Invalid CanActivate guard");a=or(o(e,t))}return a.pipe(us())}));return Y(i).pipe(Zu())}(t,i.route,n))),us(i=>!0!==i,!0))}(r,s,t,e):Y(a)),_e(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ct(a=>{if(ds(a.guardsResult)){const c=Wy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new mK(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Yo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Ih(a=>{if(a.guards.canActivateChecks.length)return Y(a).pipe(Ct(u=>{const c=new yK(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),as(u=>{let c=!1;return Y(u).pipe(function q6(t,e){return bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return rt(i).pipe(Gu(o=>function W6(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!iR(i)&&(s[s_]=i.title),function z6(t,e,n,r){const i=function K6(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Y({});const s={};return rt(i).pipe(bt(o=>function Q6(t,e,n,r){const i=wh(t,e,r);return or(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(us(),Ct(a=>{s[o]=a}))),$y(1),function hK(t){return _e(()=>t)}(s),Di(o=>o instanceof Hu?Fr:$u(o)))}(s,t,e,r).pipe(_e(o=>(t._resolvedData=o,t.data=NN(t,n).resolve,i&&iR(i)&&(t.data[s_]=i.title),null)))}(o.route,r,t,e)),Ct(()=>s++),$y(1),bt(o=>s===i.length?Y(n):Fr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ct({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Ct(u=>{const c=new _K(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Ih(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Ih(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ct(d=>{c.component=d}),_e(()=>{})));for(const d of c.children)l.push(...u(d));return l};return aN(u(a.targetSnapshot.root)).pipe(Hy(),Wa(1))}),_e(a=>{const u=function zK(t,e,n){const r=Ku(t,e._root,n?n._root:void 0);return new MN(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:u}}),Ct(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>_e(r=>(new l6(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ct({next(){s=!0},complete(){s=!0}}),Gy(()=>{s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Di(a=>{if(o=!0,function TK(t){return t&&t[gN]}(a)){const u=ds(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new fN(i.id,this.serializeUrl(i.extractedUrl),a.message);if(r.next(c),u){const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||aR(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new fK(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Fr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(r_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function YK(t,e,n,r,i){if(0===n.length)return Zy(e.root,e.root,e.root,r,i);const s=function JK(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new FN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Tt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new FN(n,e,r)}(n);return s.toRoot()?Zy(e.root,e.root,new se([],{}),r,i):function o(u){const c=function XK(t,e,n,r){return t.isAbsolute?new e_(e.root,!0,0):-1===r?new e_(n,n===e.root,0):function ZK(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new e_(r,!1,i-s)}(n,r+(fh(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?ph(c.segmentGroup,c.index,s.commands):LN(c.segmentGroup,c.index,s.commands);return Zy(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}(c,this.currentUrlTree,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ds(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function o5(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...i5}:!1===r?{...s5}:r,ds(n))return wN(this.currentUrlTree,n,i);const s=this.parseUrl(n);return wN(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new qu(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,u=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new fN(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Xg()},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();function aR(t){return"imperative"!==t}let u_=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new dr,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:Kr(this.skipLocationChange),replaceUrl:Kr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kr(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(b(xn),b(Zo),nu("tabindex"),b(qr),b(Sn))},t.\u0275dir=$({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&ln("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Fn]}),t})(),ea=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new dr,this.subscription=n.events.subscribe(s=>{s instanceof qu&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Kr(this.skipLocationChange),replaceUrl:Kr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kr(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(b(xn),b(Zo),b(Qo))},t.\u0275dir=$({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&ln("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&wr("target",r.target)("href",r.href,Eg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Fn]}),t})(),Eh=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new $e,this.routerEventsSubscription=n.events.subscribe(u=>{u instanceof qu&&this.update()})}ngAfterContentInit(){Y(this.links.changes,this.linksWithHrefs.changes,Y(null)).pipe(io()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=rt(n).pipe(io()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this.isActive!==n&&(this.isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function a5(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.linkWithHref&&n(this.linkWithHref)||this.links.some(n)||this.linksWithHrefs.some(n)}}return t.\u0275fac=function(n){return new(n||t)(b(xn),b(Sn),b(qr),b(Hd),b(u_,8),b(ea,8))},t.\u0275dir=$({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&(Xm(i,u_,5),Xm(i,ea,5)),2&n){let s;Pd(s=Od())&&(r.links=s),Pd(s=Od())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Fn]}),t})();class uR{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(i=>i.outlet===re);return n}getResolvedTitleForRoute(e){return e.data[s_]}}let u5=(()=>{class t extends uR{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(F(tN))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class cR{}class lR{preload(e,n){return Y(null)}}let dR=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Yo(n=>n instanceof qu),Gu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Nd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return rt(i).pipe(io())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Y(null);const s=i.pipe(bt(o=>null===o?Y(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?rt([s,this.loader.loadComponent(r)]).pipe(io()):s})}}return t.\u0275fac=function(n){return new(n||t)(F(xn),F(sy),F(ns),F(cR),F(a_))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})(),c_=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof qu&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof pN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new pN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Xg()},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();const hs=new H("ROUTER_CONFIGURATION"),hR=new H("ROUTER_FORROOT_GUARD"),l5=[vy,{provide:bN,useClass:CN},{provide:xn,useFactory:function g5(t,e,n,r,i,s,o={},a,u,c,l){const d=new xn(null,t,e,n,r,i,yN(s));return c&&(d.urlHandlingStrategy=c),l&&(d.routeReuseStrategy=l),d.titleStrategy=u??a,function m5(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d},deps:[bN,Yu,vy,Vt,sy,o_,hs,u5,[uR,new ot],[class Z6{},new ot],[class Y6{},new ot]]},Yu,{provide:Zo,useFactory:function y5(t){return t.routerState.root},deps:[xn]},dR,lR,class c5{preload(e,n){return n().pipe(Di(()=>Y(null)))}},{provide:hs,useValue:{enableTracing:!1}},a_];function d5(){return new XM("Router",xn)}let fR=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[l5,pR(n),{provide:hR,useFactory:p5,deps:[[xn,new ot,new cu]]},{provide:hs,useValue:r||{}},{provide:Qo,useFactory:f5,deps:[Lu,[new rd(_y),new ot],hs]},{provide:c_,useFactory:h5,deps:[xn,p8,hs]},{provide:cR,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:lR},{provide:XM,multi:!0,useFactory:d5},[l_,{provide:ry,multi:!0,useFactory:_5,deps:[l_]},{provide:gR,useFactory:v5,deps:[l_]},{provide:WM,multi:!0,useExisting:gR}]]}}static forChild(n){return{ngModule:t,providers:[pR(n)]}}}return t.\u0275fac=function(n){return new(n||t)(F(hR,8),F(xn,8))},t.\u0275mod=Pn({type:t}),t.\u0275inj=wn({}),t})();function h5(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new c_(t,e,n)}function f5(t,e,n={}){return n.useHash?new K3(t,e):new Ik(t,e)}function p5(t){return"guarded"}function pR(t){return[{provide:_j,multi:!0,useValue:t},{provide:o_,multi:!0,useValue:t}]}let l_=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new dr}appInitializer(){return this.injector.get(q3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(xn),o=this.injector.get(hs);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Y(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(hs),i=this.injector.get(dR),s=this.injector.get(c_),o=this.injector.get(xn),a=this.injector.get(jd);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(F(Vt))},t.\u0275prov=ne({token:t,factory:t.\u0275fac}),t})();function _5(t){return t.appInitializer.bind(t)}function v5(t){return t.bootstrapListener.bind(t)}const gR=new H("Router Initializer");let I5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["app-canvas"]],decls:6,vars:0,consts:[[1,"line-break"],["routerLink","home","routerLinkActive","current-page"],["routerLink","bounce-up","routerLinkActive","current-page"]],template:function(n,r){1&n&&(ae(0,"div",0)(1,"a",1),Te(2,"Home"),ue(),ae(3,"a",2),Te(4,"Bounce Up"),ue()(),Ir(5,"router-outlet"))},dependencies:[Ju,ea,Eh],styles:["a.current-page[_ngcontent-%COMP%]{border-style:solid;color:orange;font-size:20px;padding:5px;background-color:navy;margin-bottom:15px}a[_ngcontent-%COMP%]:not(.current-page){border-style:solid;color:#000;font-size:20px;padding:5px;margin-bottom:15px}"]}),t})(),E5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["app-code-org-home"]],decls:0,vars:0,template:function(n,r){}}),t})(),D5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["app-code-org"]],decls:10,vars:0,consts:[[1,"line-break"],["routerLink","home","routerLinkActive","current-page"],["routerLink","pirate-hunters","routerLinkActive","current-page"],["routerLink","hourglass","routerLinkActive","current-page"],["routerLink","sloth","routerLinkActive","current-page"]],template:function(n,r){1&n&&(ae(0,"div",0)(1,"a",1),Te(2,"Home"),ue(),ae(3,"a",2),Te(4,"Space Pirate Hunters"),ue(),ae(5,"a",3),Te(6,"Hourglass of Hourglasses"),ue(),ae(7,"a",4),Te(8,"Sloth"),ue()(),Ir(9,"router-outlet"))},dependencies:[Ju,ea,Eh],styles:["a.current-page[_ngcontent-%COMP%]{border-style:solid;color:orange;font-size:20px;padding:5px;background-color:navy;margin-bottom:15px}a[_ngcontent-%COMP%]:not(.current-page){border-style:solid;color:#000;font-size:20px;padding:5px;margin-bottom:15px}h1[_ngcontent-%COMP%]{text-align:center}"]}),t})(),b5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["app-home"]],decls:8,vars:0,consts:[[1,"tip"],[1,"left-para"]],template:function(n,r){1&n&&(ae(0,"h1"),Te(1,"Current Coding"),ue(),ae(2,"p",0),Te(3,"Click the pictures to go to game"),ue(),ae(4,"h2"),Te(5," For Bounce up, I will add being able to play on mobile, more scores than just the highest score, and "),ue(),ae(6,"span",1),Te(7,"Bounce-up is a game where you bounce the ball with a rectangle and try to keep the ball from touching the ground."),ue())},styles:["h1[_ngcontent-%COMP%]{font-weight:bolder;text-align:center;font-size:50px}h2[_ngcontent-%COMP%]{font-weight:700;text-align:center;font-size:37px;color:#000}p[_ngcontent-%COMP%]{color:#000;font-size:20px;text-align:center}span.left-para[_ngcontent-%COMP%]{color:#000;font-size:20px;text-align:left;padding:50px}"]}),t})(),C5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["app-hourglass"]],decls:6,vars:0,consts:[["href","https://studio.code.org/projects/gamelab/GDaorLvjb6Is64QkXhKek_kFQAD9N6InKWN1x67z754","target","_blank"],["src","../../assets/pictures/hourglass-pic.png"]],template:function(n,r){1&n&&(ae(0,"h1"),Te(1,"The Hourglass of Hourglasses"),ue(),ae(2,"p"),Te(3,"The Hourglass of Hourglasses is a game where you must try to get out of a massive hourglass that has smaller hourglasses as grains of sand"),ue(),ae(4,"a",0),Ir(5,"img",1),ue())},styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:50px}p[_ngcontent-%COMP%]{text-align:center;font-size:20px}"]}),t})(),T5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["app-sloth"]],decls:7,vars:0,consts:[["href","https://studio.code.org/projects/gamelab/2lzFHhacRk2-mD_S9hy-IuluJiAlpawsw23NQWmoBKA","target","_blank"],["src","../../assets/pictures/sloth.png"],[1,"line-break"],[1,"tip"]],template:function(n,r){1&n&&(ae(0,"h1"),Te(1,"Sloth Game"),ue(),ae(2,"a",0),Ir(3,"img",1),ue(),ae(4,"div",2)(5,"p",3),Te(6,"HIGHSCORE 4935: Jacob"),ue()())},styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:50px}"]}),t})(),A5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["app-space-pirate-hunters"]],decls:6,vars:0,consts:[["href","https://studio.code.org/projects/gamelab/QsNqXb6mnvLHODvkaXd1ldciFhnisZ6MvKiKr5Ut7gU","target","_blank"],["src","../../assets/pictures/SpacePic.png"]],template:function(n,r){1&n&&(ae(0,"h1"),Te(1,"Space Pirate Hunters"),ue(),ae(2,"p"),Te(3,"Space Pirate Hunters is a game where you fly your spaceship around shooting at space pirates, to try to earn money to upgrade and buy new ships."),ue(),ae(4,"a",0),Ir(5,"img",1),ue())},styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:50px}p[_ngcontent-%COMP%]{text-align:center;font-size:20px}"]}),t})(),S5=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["app-canvas-home"]],decls:4,vars:0,template:function(n,r){1&n&&(ae(0,"h1"),Te(1,"Canvas"),ue(),ae(2,"p"),Te(3,"Canvas uses Javascript to make boxes that you can code fun games in like Bounce Up."),ue())},styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:50px}p[_ngcontent-%COMP%]{text-align:center;font-size:20px}"]}),t})();function mR(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){mR(s,r,i,o,a,"next",u)}function a(u){mR(s,r,i,o,a,"throw",u)}o(void 0)})}}const yR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},h_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Dh=function(t){return function(t){const e=yR(t);return h_.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class p_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Mn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function bh(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function wR(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fs(){return"object"==typeof indexedDB}function rc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function g_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}}class Ar{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function U5(t,e){return t.replace(B5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Zr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const B5=/\{\$([^}]+)}/g;function m_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ER(s)&&ER(o)){if(!m_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ER(t){return null!==t&&"object"==typeof t}function DR(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class $5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function H5(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=y_),void 0===i.error&&(i.error=y_),void 0===i.complete&&(i.complete=y_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y_(){}function v_(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Hn(t){return t&&t._delegate?t._delegate:t}class Bt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ps="[DEFAULT]";class Q5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function J5(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ps?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Q5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const w_=[];var ce=(()=>{return(t=ce||(ce={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ce;var t})();const bR={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},Z5=ce.INFO,e7={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},t7=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=e7[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ta{constructor(e){this.name=e,this._logLevel=Z5,this._logHandler=t7,this._userLogHandler=null,w_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?bR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}let CR,TR;const AR=new WeakMap,I_=new WeakMap,SR=new WeakMap,E_=new WeakMap,D_=new WeakMap;let b_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return I_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||SR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function c7(t){return"function"==typeof t?function u7(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function i7(){return TR||(TR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(C_(this),e),ei(AR.get(this))}:function(...e){return ei(t.apply(C_(this),e))}:function(e,...n){const r=t.call(C_(this),e,...n);return SR.set(r,e.sort?e.sort():[e]),ei(r)}}(t):(t instanceof IDBTransaction&&function o7(t){if(I_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});I_.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function r7(){return CR||(CR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,b_):t)}function ei(t){if(t instanceof IDBRequest)return function s7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AR.set(n,t)}).catch(()=>{}),D_.set(e,t),e}(t);if(E_.has(t))return E_.get(t);const e=c7(t);return e!==t&&(E_.set(t,e),D_.set(e,t)),e}const C_=t=>D_.get(t);function Th(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ei(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ei(o.result),u.oldVersion,u.newVersion,ei(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function T_(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ei(n).then(()=>{})}const l7=["get","getKey","getAll","getAllKeys","count"],d7=["put","add","delete","clear"],A_=new Map;function xR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(A_.get(e))return A_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!l7.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return A_.set(e,s),s}!function a7(t){b_=t(b_)}(t=>({...t,get:(e,n,r)=>xR(e,n)||t.get(e,n,r),has:(e,n)=>!!xR(e,n)||t.has(e,n)}));class h7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function f7(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const S_="@firebase/app",x_=new ta("@firebase/app"),M_="[DEFAULT]",U7={[S_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gs=new Map,Ah=new Map;function B7(t,e){try{t.container.addComponent(e)}catch(n){x_.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zt(t){const e=t.name;if(Ah.has(e))return x_.debug(`There were multiple attempts to register component ${e}.`),!1;Ah.set(e,t);for(const n of gs.values())B7(n,t);return!0}function Sh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ci=new Ar("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class $7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}function H7(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:M_,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Ci.create("bad-app-name",{appName:String(r)});const i=gs.get(r);if(i){if(m_(t,i.options)&&m_(n,i.config))return i;throw Ci.create("duplicate-app",{appName:r})}const s=new X5(r);for(const a of Ah.values())s.addComponent(a);const o=new $7(t,n,s);return gs.set(r,o),o}function kR(t=M_){const e=gs.get(t);if(!e)throw Ci.create("no-app",{appName:t});return e}function NR(){return Array.from(gs.values())}function qe(t,e,n){var r;let i=null!==(r=U7[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void x_.warn(a.join(" "))}Zt(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ic="firebase-heartbeat-store";let N_=null;function RR(){return N_||(N_=Th("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ic)}}).catch(t=>{throw Ci.create("storage-open",{originalErrorMessage:t.message})})),N_}function R_(){return(R_=m(function*(t){try{return(yield RR()).transaction(ic).objectStore(ic).get(OR(t))}catch(e){throw Ci.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function PR(t,e){return P_.apply(this,arguments)}function P_(){return(P_=m(function*(t,e){try{const r=(yield RR()).transaction(ic,"readwrite");return yield r.objectStore(ic).put(e,OR(t)),r.done}catch(n){throw Ci.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function OR(t){return`${t.name}!${t.options.appId}`}class Q7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=FR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=FR(),{heartbeatsToSend:r,unsentEntries:i}=function Y7(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),LR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Dh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function FR(){return(new Date).toISOString().substring(0,10)}class J7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!fs()&&rc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function W7(t){return R_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return PR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return PR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function LR(t){return Dh(JSON.stringify({version:2,heartbeats:t})).length}!function X7(t){Zt(new Bt("platform-logger",e=>new h7(e),"PRIVATE")),Zt(new Bt("heartbeat",e=>new Q7(e),"PRIVATE")),qe(S_,"0.7.25",t),qe(S_,"0.7.25","esm2017"),qe("fire-js","")}(""),qe("firebase","9.8.2","app");const VR="@firebase/installations",BR="w:0.5.9",jR="FIS_v2",ti=new Ar("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $R(t){return t instanceof Zr&&t.code.includes("request-failed")}function F_({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function HR(t){return{token:t.token,requestStatus:2,expiresIn:o9(t.expiresIn),creationTime:Date.now()}}function L_(t,e){return V_.apply(this,arguments)}function V_(){return(V_=m(function*(t,e){const r=(yield e.json()).error;return ti.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function GR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qR(t,{refreshToken:e}){const n=GR(t);return n.append("Authorization",function a9(t){return`${jR} ${t}`}(e)),n}function U_(t){return B_.apply(this,arguments)}function B_(){return(B_=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function o9(t){return Number(t.replace("s","000"))}function u9(t,e){return j_.apply(this,arguments)}function j_(){return(j_=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=F_(t),i=GR(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:jR,appId:t.appId,sdkVersion:BR})},u=yield U_(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:HR(c.authToken)}}throw yield L_("Create Installation",u)})).apply(this,arguments)}function WR(t){return new Promise(e=>{setTimeout(e,t)})}const l9=/^[cdef][\w-]{21}$/;function d9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function h9(t){return function c9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return l9.test(n)?n:""}catch{return""}}function na(t){return`${t.appName}!${t.appId}`}const ra=new Map;function zR(t,e){const n=na(t);KR(n,e),function g9(t,e){const n=function QR(){return!ms&&"BroadcastChannel"in self&&(ms=new BroadcastChannel("[Firebase] FID Change"),ms.onmessage=t=>{KR(t.data.key,t.data.fid)}),ms}();n&&n.postMessage({key:t,fid:e}),function YR(){0===ra.size&&ms&&(ms.close(),ms=null)}()}(n,e)}function KR(t,e){const n=ra.get(t);if(n)for(const r of n)r(e)}let ms=null;const ys="firebase-installations-store";let H_=null;function G_(){return H_||(H_=Th("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ys)}})),H_}function Mh(t,e){return q_.apply(this,arguments)}function q_(){return(q_=m(function*(t,e){const n=na(t),i=(yield G_()).transaction(ys,"readwrite"),s=i.objectStore(ys),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&zR(t,e.fid),e})).apply(this,arguments)}function W_(t){return z_.apply(this,arguments)}function z_(){return(z_=m(function*(t){const e=na(t),r=(yield G_()).transaction(ys,"readwrite");yield r.objectStore(ys).delete(e),yield r.done})).apply(this,arguments)}function sc(t,e){return K_.apply(this,arguments)}function K_(){return(K_=m(function*(t,e){const n=na(t),i=(yield G_()).transaction(ys,"readwrite"),s=i.objectStore(ys),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&zR(t,a.fid),a})).apply(this,arguments)}function Q_(t){return Y_.apply(this,arguments)}function Y_(){return(Y_=m(function*(t){let e;const n=yield sc(t.appConfig,r=>{const i=_9(r),s=v9(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function _9(t){return XR(t||{fid:d9(),registrationStatus:0})}function v9(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ti.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function w9(t,e){return J_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:I9(t)}:{installationEntry:e}}function J_(){return(J_=m(function*(t,e){try{const n=yield u9(t,e);return Mh(t.appConfig,n)}catch(n){throw $R(n)&&409===n.customData.serverCode?yield W_(t.appConfig):yield Mh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function I9(t){return X_.apply(this,arguments)}function X_(){return(X_=m(function*(t){let e=yield JR(t.appConfig);for(;1===e.registrationStatus;)yield WR(100),e=yield JR(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Q_(t);return r||n}return e})).apply(this,arguments)}function JR(t){return sc(t,e=>{if(!e)throw ti.create("installation-not-found");return XR(e)})}function XR(t){return function E9(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function D9(t,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=b9(t,n),i=qR(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:BR,appId:t.appId}})},u=yield U_(()=>fetch(r,a));if(u.ok)return HR(yield u.json());throw yield L_("Generate Auth Token",u)})).apply(this,arguments)}function b9(t,{fid:e}){return`${F_(t)}/${e}/authTokens:generate`}function ev(t){return tv.apply(this,arguments)}function tv(){return(tv=m(function*(t,e=!1){let n;const r=yield sc(t.appConfig,s=>{if(!e1(s))throw ti.create("not-registered");const o=s.authToken;if(!e&&A9(o))return s;if(1===o.requestStatus)return n=C9(t,e),s;{if(!navigator.onLine)throw ti.create("app-offline");const a=x9(s);return n=T9(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function C9(t,e){return nv.apply(this,arguments)}function nv(){return(nv=m(function*(t,e){let n=yield ZR(t.appConfig);for(;1===n.authToken.requestStatus;)yield WR(100),n=yield ZR(t.appConfig);const r=n.authToken;return 0===r.requestStatus?ev(t,e):r})).apply(this,arguments)}function ZR(t){return sc(t,e=>{if(!e1(e))throw ti.create("not-registered");return function M9(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function T9(t,e){return rv.apply(this,arguments)}function rv(){return(rv=m(function*(t,e){try{const n=yield D9(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Mh(t.appConfig,r),n}catch(n){if(!$R(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Mh(t.appConfig,r)}else yield W_(t.appConfig);throw n}})).apply(this,arguments)}function e1(t){return void 0!==t&&2===t.registrationStatus}function A9(t){return 2===t.requestStatus&&!function S9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function x9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function iv(){return(iv=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Q_(e);return r?r.catch(console.error):ev(e).catch(console.error),n.fid})).apply(this,arguments)}function sv(){return(sv=m(function*(t,e=!1){const n=t;return yield R9(n),(yield ev(n,e)).token})).apply(this,arguments)}function R9(t){return ov.apply(this,arguments)}function ov(){return(ov=m(function*(t){const{registrationPromise:e}=yield Q_(t);e&&(yield e)})).apply(this,arguments)}function cv(t){return ti.create("missing-app-config-values",{valueName:t})}const t1="installations",V9=t=>{const e=t.getProvider("app").getImmediate(),n=function F9(t){if(!t||!t.options)throw cv("App Configuration");if(!t.name)throw cv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw cv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Sh(e,"heartbeat"),_delete:()=>Promise.resolve()}},U9=t=>{const n=Sh(t.getProvider("app").getImmediate(),t1).getImmediate();return{getId:()=>function k9(t){return iv.apply(this,arguments)}(n),getToken:i=>function N9(t){return sv.apply(this,arguments)}(n,i)}};(function B9(){Zt(new Bt(t1,V9,"PUBLIC")),Zt(new Bt("installations-internal",U9,"PRIVATE"))})(),qe(VR,"0.5.9"),qe(VR,"0.5.9","esm2017");const lv="@firebase/remote-config",fn=new Ar("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class J9{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function X9(t=navigator){return t.languages&&t.languages[0]||t.language}class Z9{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:X9()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,D)=>{e.signal.addEventListener(()=>{const _=new Error("The operation was aborted.");_.name="AbortError",D(_)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let D="fetch-client-network";throw"AbortError"===I.name&&(D="fetch-timeout"),fn.create(D,{originalErrorMessage:I.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let I;try{I=yield h.json()}catch(D){throw fn.create("fetch-client-parse",{originalErrorMessage:D.message})}g=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw fn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class nQ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function eQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function tQ(t){if(!(t instanceof Zr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+v_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class sQ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nh(t,e){const n=t.target.error||void 0;return fn.create(e,{originalErrorMessage:n&&n.message})}const _s="app_namespace_store";class cQ{constructor(e,n,r,i=function uQ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Nh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_s,{keyPath:"compositeKey"})}}catch(n){e(fn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([_s],"readonly").objectStore(_s),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Nh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(fn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([_s],"readwrite").objectStore(_s),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Nh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(fn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([_s],"readwrite").objectStore(_s),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Nh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(fn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class lQ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function hQ(){return gv.apply(this,arguments)}function gv(){return(gv=m(function*(){if(!fs())return!1;try{return yield rc()}catch{return!1}})).apply(this,arguments)}!function dQ(){Zt(new Bt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fn.create("registration-window");if(!fs())throw fn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw fn.create("registration-project-id");if(!o)throw fn.create("registration-api-key");if(!a)throw fn.create("registration-app-id");const u=new cQ(a,r.name,n=n||"firebase"),c=new lQ(u),l=new ta(lv);l.logLevel=ce.ERROR;const d=new Z9(i,"9.8.2",n,s,o,a),h=new nQ(d,u),f=new J9(h,u,c,l),p=new sQ(r,f,c,u,l);return function K9(t){const e=Hn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),qe(lv,"0.3.8"),qe(lv,"0.3.8","esm2017")}();const fQ="/firebase-messaging-sw.js",pQ="/firebase-cloud-messaging-push-scope",s1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",o1="google.c.a.c_id",mQ="google.c.a.c_l",yQ="google.c.a.ts",_Q="google.c.a.e";var ia=(()=>{return(t=ia||(ia={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ia;var t})();function ni(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vQ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const mv="fcm_token_details_db",a1="fcm_token_object_Store";function IQ(t){return yv.apply(this,arguments)}function yv(){return yv=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(mv))return null;let e=null;return(yield Th(mv,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(a1))return;const c=a.objectStore(a1),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ni(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ni(d.auth),p256dh:ni(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ni(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ni(d.auth),p256dh:ni(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ni(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield T_(mv),yield T_("fcm_vapid_details_db"),yield T_("undefined"),EQ(e)?e:null;var r}),yv.apply(this,arguments)}function EQ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const vs="firebase-messaging-store";let _v=null;function vv(){return _v||(_v=Th("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(vs)}})),_v}function u1(t){return wv.apply(this,arguments)}function wv(){return(wv=m(function*(t){const e=bv(t),r=yield(yield vv()).transaction(vs).objectStore(vs).get(e);if(r)return r;{const i=yield IQ(t.appConfig.senderId);if(i)return yield Iv(t,i),i}})).apply(this,arguments)}function Iv(t,e){return Ev.apply(this,arguments)}function Ev(){return(Ev=m(function*(t,e){const n=bv(t),i=(yield vv()).transaction(vs,"readwrite");return yield i.objectStore(vs).put(e,n),yield i.done,e})).apply(this,arguments)}function CQ(t){return Dv.apply(this,arguments)}function Dv(){return(Dv=m(function*(t){const e=bv(t),r=(yield vv()).transaction(vs,"readwrite");yield r.objectStore(vs).delete(e),yield r.done})).apply(this,arguments)}function bv({appConfig:t}){return t.appId}const At=new Ar("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function AQ(t,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=m(function*(t,e){const n=yield xv(t),r=l1(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Sv(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw At.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function SQ(t,e){return Tv.apply(this,arguments)}function Tv(){return(Tv=m(function*(t,e){const n=yield xv(t),r=l1(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Sv(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o})}if(s.error)throw At.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-update-no-token");return s.token})).apply(this,arguments)}function c1(t,e){return Av.apply(this,arguments)}function Av(){return(Av=m(function*(t,e){const r={method:"DELETE",headers:yield xv(t)};try{const s=yield(yield fetch(`${Sv(t.appConfig)}/${e}`,r)).json();if(s.error)throw At.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function Sv({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function xv(t){return Mv.apply(this,arguments)}function Mv(){return(Mv=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function l1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==s1&&(i.web.applicationPubKey=r),i}const xQ=6048e5;function MQ(t){return kv.apply(this,arguments)}function kv(){return(kv=m(function*(t){const e=yield NQ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ni(e.getKey("auth")),p256dh:ni(e.getKey("p256dh"))},r=yield u1(t.firebaseDependencies);if(r){if(RQ(r.subscriptionOptions,n))return Date.now()>=r.createTime+xQ?kQ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield c1(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return h1(t.firebaseDependencies,n)}return h1(t.firebaseDependencies,n)})).apply(this,arguments)}function d1(t){return Nv.apply(this,arguments)}function Nv(){return(Nv=m(function*(t){const e=yield u1(t.firebaseDependencies);e&&(yield c1(t.firebaseDependencies,e.token),yield CQ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function kQ(t,e){return Rv.apply(this,arguments)}function Rv(){return(Rv=m(function*(t,e){try{const n=yield SQ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Iv(t.firebaseDependencies,r),n}catch(n){throw yield d1(t),n}})).apply(this,arguments)}function h1(t,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=m(function*(t,e){const r={token:yield AQ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Iv(t,r),r.token})).apply(this,arguments)}function NQ(t,e){return Ov.apply(this,arguments)}function Ov(){return(Ov=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vQ(e)})})).apply(this,arguments)}function RQ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function f1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function PQ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function OQ(t,e){!e.data||(t.data=e.data)}(e,t),function FQ(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function LQ(t){return"object"==typeof t&&!!t&&o1 in t}function p1(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Fv(t){return At.create("missing-app-config-values",{valueName:t})}p1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),p1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class UQ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function VQ(t){if(!t||!t.options)throw Fv("App Configuration Object");if(!t.name)throw Fv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Fv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function g1(t){return Lv.apply(this,arguments)}function Lv(){return(Lv=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(fQ,{scope:pQ}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function BQ(t,e){return Vv.apply(this,arguments)}function Vv(){return(Vv=m(function*(t,e){if(!e&&!t.swRegistration&&(yield g1(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function jQ(t,e){return Uv.apply(this,arguments)}function Uv(){return(Uv=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=s1)})).apply(this,arguments)}function Bv(){return(Bv=m(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield jQ(t,e?.vapidKey),yield BQ(t,e?.serviceWorkerRegistration),MQ(t)})).apply(this,arguments)}function $Q(t,e,n){return jv.apply(this,arguments)}function jv(){return(jv=m(function*(t,e,n){const r=HQ(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[o1],message_name:n[mQ],message_time:n[yQ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function HQ(t){switch(t){case ia.NOTIFICATION_CLICKED:return"notification_open";case ia.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $v(){return($v=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ia.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(f1(n)):t.onMessageHandler.next(f1(n)));const r=n.data;LQ(r)&&"1"===r[_Q]&&(yield $Q(t,n.messageType,r))})).apply(this,arguments)}const y1="@firebase/messaging",qQ=t=>{const e=new UQ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function GQ(t,e){return $v.apply(this,arguments)}(e,n)),e},WQ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function m1(t,e){return Bv.apply(this,arguments)}(e,r)}};function v1(){return Hv.apply(this,arguments)}function Hv(){return(Hv=m(function*(){try{yield rc()}catch{return!1}return typeof window<"u"&&fs()&&g_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zQ(){Zt(new Bt("messaging",qQ,"PUBLIC")),Zt(new Bt("messaging-internal",WQ,"PRIVATE")),qe(y1,"0.9.13"),qe(y1,"0.9.13","esm2017")}();const Rh="analytics",YQ="firebase_id",ZQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",w1="https://www.googletagmanager.com/gtag/js",St=new ta("@firebase/analytics");function I1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function eY(t,e){const n=document.createElement("script");n.src=`${w1}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function nY(t,e,n,r,i,s){return Wv.apply(this,arguments)}function Wv(){return(Wv=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield I1(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){St.error(a)}t("config",i,s)})).apply(this,arguments)}function rY(t,e,n,r,i){return zv.apply(this,arguments)}function zv(){return(zv=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield I1(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){St.error(s)}})).apply(this,arguments)}function oY(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(w1))return e;return null}const kn=new Ar("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),E1=new class lY{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function dY(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function hY(t){return Kv.apply(this,arguments)}function Kv(){return(Kv=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:dY(r)},s=ZQ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function fY(t){return Qv.apply(this,arguments)}function Qv(){return(Qv=m(function*(t,e=E1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw kn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw kn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new mY;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),D1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function D1(t,e,n){return Yv.apply(this,arguments)}function Yv(){return(Yv=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=E1){const{appId:s,measurementId:o}=t;try{yield pY(r,e)}catch(a){if(o)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield hY(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!gY(a)){if(i.deleteThrottleMetadata(s),o)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?v_(n,i.intervalMillis,30):v_(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),St.debug(`Calling attemptFetch again in ${u} millis`),D1(t,c,r,i)}})).apply(this,arguments)}function pY(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gY(t){if(!(t instanceof Zr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class mY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function yY(){return Jv.apply(this,arguments)}function Jv(){return(Jv=m(function*(){if(!fs())return St.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield rc()}catch(t){return St.warn(kn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function Xv(){return(Xv=m(function*(t,e,n,r,i,s,o){var a;const u=fY(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>St.error(f)),e.push(u);const c=yY().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);oY()||eY(s,l.measurementId),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[YQ]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class vY{constructor(e){this.app=e}_delete(){return delete ri[this.app.options.appId],Promise.resolve()}}let ri={},b1=[];const C1={};let A1,oc,Ph="dataLayer",Zv=!1;function IY(t,e,n){!function wY(){const t=[];if(bh()&&t.push("This is a browser extension environment."),g_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});St.warn(n.message)}}();const r=t.options.appId;if(!r)throw kn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw kn.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ri[r])throw kn.create("already-exists",{id:r});if(!Zv){!function tY(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ph);const{wrappedGtag:s,gtagCore:o}=function sY(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function iY(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield rY(t,e,n,a,u):"config"===o?yield nY(t,e,n,r,a,u):t("set",a)}catch(c){St.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ri,b1,C1,Ph,"gtag");oc=s,A1=o,Zv=!0}return ri[r]=function _Y(t,e,n,r,i,s,o){return Xv.apply(this,arguments)}(t,b1,C1,e,A1,Ph,n),new vY(t)}function ew(){return(ew=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function SY(){return sw.apply(this,arguments)}function sw(){return(sw=m(function*(){if(bh()||!g_()||!fs())return!1;try{return yield rc()}catch{return!1}})).apply(this,arguments)}const S1="@firebase/analytics";!function MY(){Zt(new Bt(Rh,(e,{options:n})=>IY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Zt(new Bt("analytics-internal",function t(e){try{const n=e.getProvider(Rh).getImmediate();return{logEvent:(r,i,s)=>function xY(t,e,n,r){t=Hn(t),function EY(t,e,n,r,i){return ew.apply(this,arguments)}(oc,ri[t.app.options.appId],e,n,r).catch(i=>St.error(i))}(n,r,i,s)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),qe(S1,"0.7.9"),qe(S1,"0.7.9","esm2017")}();class kY extends yn{constructor(e,n){super()}schedule(e,n=0){return this}}const Oh={setInterval(t,e,...n){const{delegate:r}=Oh;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Oh;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class M1 extends kY{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Oh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Oh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ro(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const k1={now:()=>(k1.delegate||Date).now(),delegate:void 0};class ac{constructor(e,n=ac.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ac.now=k1.now;class N1 extends ac{constructor(e,n=ac.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const PY=new class RY extends N1{}(class NY extends M1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),OY=new N1(M1),ow=new qo("7.4.1"),aw="__angularfire_symbol__analyticsIsSupportedValue",uw="__angularfire_symbol__analyticsIsSupported",cw="__angularfire_symbol__remoteConfigIsSupportedValue",lw="__angularfire_symbol__remoteConfigIsSupported",dw="__angularfire_symbol__messagingIsSupportedValue",hw="__angularfire_symbol__messagingIsSupported";globalThis[uw]||(globalThis[uw]=SY().then(t=>globalThis[aw]=t).catch(()=>globalThis[aw]=!1)),globalThis[hw]||(globalThis[hw]=v1().then(t=>globalThis[dw]=t).catch(()=>globalThis[dw]=!1)),globalThis[lw]||(globalThis[lw]=hQ().then(t=>globalThis[cw]=t).catch(()=>globalThis[cw]=!1));const gw=(t,e)=>{const n=e?[e]:NR(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function sa(){}class R1{constructor(e,n=PY){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class FY{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sa,{},sa,sa)),n.pipe(Ct({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let P1=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new R1(Zone.current)),this.insideAngular=n.run(()=>new R1(Zone.current,OY)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F(Fe))},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ws(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function LY(t){return ws().ngZone.runOutsideAngular(()=>t())}function Is(t){return ws().ngZone.run(()=>t())}function VY(t){return ws(),function UY(t){return function(n){return(n=n.lift(new FY(t.ngZone))).pipe(Ml(t.outsideAngular),xl(t.insideAngular))}}(ws())(t)}const BY=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Is(()=>t.apply(void 0,r))},uc=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Is(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sa,{},sa,sa)))),r[s]=BY(r[s],n));const i=LY(()=>t.apply(this,r));if(!e){if(i instanceof Oe){const s=ws();return i.pipe(Ml(s.outsideAngular),xl(s.insideAngular))}return Is(()=>i)}return i instanceof Oe?i.pipe(VY):i instanceof Promise?Is(()=>new Promise((s,o)=>i.then(a=>Is(()=>s(a)),a=>Is(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Is(()=>i)};class oa{constructor(e){return e}}class O1{constructor(){return NR()}}const mw=new H("angularfire2._apps"),$Y={provide:oa,useFactory:function jY(t){return t&&1===t.length?t[0]:new oa(kR())},deps:[[new ot,mw]]},HY={provide:O1,deps:[[new ot,mw]]};function GY(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new oa(r)}}let qY=(()=>{class t{constructor(n){qe("angularfire",ow.full,"core"),qe("angularfire",ow.full,"app"),qe("angular",cM.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F(Ud))},t.\u0275mod=Pn({type:t}),t.\u0275inj=wn({providers:[$Y,HY]}),t})();function WY(t,...e){return{ngModule:qY,providers:[{provide:mw,useFactory:GY(t),multi:!0,deps:[Fe,Vt,P1,...e]}]}}const zY=uc(H7,!0);const KY=function F1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},L1=new Ar("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),V1=new ta("@firebase/auth");function Fh(t,...e){V1.logLevel<=ce.ERROR&&V1.error(`Auth (9.8.2): ${t}`,...e)}function pn(t,...e){throw yw(t,...e)}function Sr(t,...e){return yw(t,...e)}function U1(t,e,n){const r=Object.assign(Object.assign({},KY()),{[e]:n});return new Ar("auth","Firebase",r).create(e,{appName:t.name})}function yw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return L1.create(t,...e)}function S(t,e,...n){if(!t)throw yw(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fh(e),new Error(e)}function Ti(t,e){t||xr(e)}const B1=new Map;function ii(t){Ti(t instanceof Function,"Expected a class definition");let e=B1.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B1.set(t,e),e)}function j1(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=vR()||wR()}get(){return function JY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function _w(){return"http:"===j1()||"https:"===j1()}()||bh()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class $1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},eJ=new lc(3e4,6e4);function gt(t,e,n,r){return ww.apply(this,arguments)}function ww(){return(ww=m(function*(t,e,n,r,i={}){return H1(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=DR(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),$1.fetch()(G1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function H1(t,e,n){return Iw.apply(this,arguments)}function Iw(){return(Iw=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZY),e);try{const i=new tJ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw dc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw dc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw dc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw dc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw U1(t,l,c);pn(t,l)}}catch(i){if(i instanceof Zr)throw i;pn(t,"network-request-failed")}})).apply(this,arguments)}function G1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function vw(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class tJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),eJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(t,e,r);return i.customData._tokenResponse=n,i}function Dw(){return(Dw=m(function*(t,e){return gt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function iJ(t,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=m(function*(t,e){return gt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Tw(){return(Tw=m(function*(t,e=!1){const n=Hn(t),r=yield n.getIdToken(e),i=Lh(r);S(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:hc(Aw(i.auth_time)),issuedAtTime:hc(Aw(i.iat)),expirationTime:hc(Aw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Aw(t){return 1e3*Number(t)}function Lh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return h_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(Fh("Failed to decode base64 JWT payload"),null)}catch(i){return Fh("Caught error parsing JWT payload as JSON",i),null}}function oi(t,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Zr&&aJ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function aJ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class uJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class q1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fc(t){return xw.apply(this,arguments)}function xw(){return(xw=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield oi(t,iJ(n,{idToken:r}));S(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?dJ(s.providerUserInfo):[],a=lJ(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new q1(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function Mw(){return(Mw=m(function*(t){const e=Hn(t);yield fc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function lJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dJ(t){return t.map(e=>{var{providerId:n}=e,r=cT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kw(){return(kw=m(function*(t,e){const n=yield H1(t,{},m(function*(){const r=DR({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=G1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$1.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(typeof e.idToken<"u","internal-error"),S(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function oJ(t){const e=Lh(t);return S(e,"internal-error"),S(typeof e.exp<"u","internal-error"),S(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function hJ(t,e){return kw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pc;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pc,this.toJSON())}_performRefresh(){return xr("not implemented")}}function Ai(t,e){S("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Es{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new q1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield oi(n,n.stsTokenManager.getToken(n.auth,e));return S(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function sJ(t){return Tw.apply(this,arguments)}(this,e)}reload(){return function cJ(t){return Mw.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield fc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield oi(e,function nJ(t,e){return Dw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,D=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:A,isAnonymous:O,providerData:V,stsTokenManager:Me}=n;S(_&&Me,e,"internal-error");const lr=pc.fromJSON(this.name,Me);S("string"==typeof _,e,"internal-error"),Ai(d,e.name),Ai(h,e.name),S("boolean"==typeof A,e,"internal-error"),S("boolean"==typeof O,e,"internal-error"),Ai(f,e.name),Ai(p,e.name),Ai(g,e.name),Ai(y,e.name),Ai(I,e.name),Ai(D,e.name);const no=new Es({uid:_,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:lr,createdAt:I,lastLoginAt:D});return V&&Array.isArray(V)&&(no.providerData=V.map(Dl=>Object.assign({},Dl))),y&&(no._redirectEventId=y),no}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new pc;i.updateFromServerResponse(n);const s=new Es({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fc(s),s})()}}const W1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Vh(t,e,n){return`firebase:${t}:${e}:${n}`}class ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Es._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new ua(ii(W1),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ii(W1);const o=Vh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Es._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new ua(s,e,r)):new ua(s,e,r)})()}}function z1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function Y1(t=Mn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function K1(t=Mn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function X1(t=Mn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function Z1(t=Mn()){return/webos/i.test(t)}(e))return"Webos";if(function Nw(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function Q1(t=Mn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function J1(t=Mn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function eP(t,e=[]){let n;switch(t){case"Browser":n=z1(Mn());break;case"Worker":n=`${z1(Mn())}-${t}`;break;default:n=t}return`${n}/JsCore/9.8.2/${e.length?e.join(","):"FirebaseCore-web"}`}class gJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i.message})}})()}}class mJ{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tP(this),this.idTokenSubscription=new tP(this),this.beforeStateQueue=new gJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ua.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return S(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield fc(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function XY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Hn(e):null;return r&&S(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&S(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ii(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ar("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ii(e)||n._popupRedirectResolver;S(r,n,"argument-error"),n.redirectPersistenceManager=yield ua.create(n,[ii(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class tP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function j5(t,e){const n=new $5(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function wP(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new lc(3e4,6e4),new lc(2e3,1e4),new lc(3e4,6e4),new lc(5e3,15e3);var NP="@firebase/auth";class sZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function aZ(t){Zt(new Bt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{S(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),S(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eP(t)},l=new mJ(a,u,c);return function YY(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zt(new Bt("auth-internal",e=>{const n=function gn(t){return Hn(t)}(e.getProvider("auth").getImmediate());return new sZ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qe(NP,"0.20.2",function oZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),qe(NP,"0.20.2","esm2017")}("Browser");class OP{constructor(){return gw("auth")}}const FP=new Map,dZ={activated:!1,tokenObservers:[]},hZ={initialized:!1,enabled:!1};function mt(t){return FP.get(t)||dZ}function ar(t,e){FP.set(t,e)}function Yh(){return hZ}class yZ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new p_,yield function _Z(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new p_,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const en=new Ar("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function VP(t){if(!mt(t).activated)throw en.create("use-before-activation",{appName:t.name})}function mE(t,e){return yE.apply(this,arguments)}function yE(){return(yE=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw en.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw en.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw en.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw en.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function DZ(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const vc="firebase-app-check-store";let Zh=null;function BP(){return Zh||(Zh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(en.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(vc,{keyPath:"compositeKey"})}}catch(n){e(en.create("storage-open",{originalErrorMessage:n.message}))}}),Zh)}function _E(){return(_E=m(function*(t,e){const r=(yield BP()).transaction(vc,"readwrite"),s=r.objectStore(vc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(en.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const wc=new ta("@firebase/app-check");function GP(t,e){return fs()?function AZ(t,e){return function jP(t,e){return _E.apply(this,arguments)}(function HP(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{wc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function qP(){return Yh().enabled}function WP(){return EE.apply(this,arguments)}function EE(){return(EE=m(function*(){const t=Yh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const RZ={error:"UNKNOWN_ERROR"};function PZ(t){return h_.encodeString(JSON.stringify(t),!1)}function ef(t){return DE.apply(this,arguments)}function DE(){return(DE=m(function*(t,e=!1){const n=t.app;VP(n);const r=mt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&tf(u)&&(i=u)}if(!e&&i&&tf(i))return{token:i.token};let a,o=!1;if(qP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=mE(DZ(n,yield WP()),t.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield GP(n,u),ar(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?wc.warn(u.message):wc.error(u),s=u}return i?(a={token:i.token},ar(n,Object.assign(Object.assign({},r),{token:i})),yield GP(n,i)):a=FZ(s),o&&KP(n,a),a})).apply(this,arguments)}function CE(t,e){const n=mt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ar(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function zP(t){const{app:e}=t,n=mt(e);let r=n.tokenRefresher;r||(r=function OZ(t){const{app:e}=t;return new yZ(m(function*(){let r;if(r=mt(e).token?yield ef(t,!0):yield ef(t),r.error)throw r.error}),()=>!0,()=>{const n=mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),ar(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function KP(t,e){const n=mt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function tf(t){return t.expireTimeMillis-Date.now()>0}function FZ(t){return{token:PZ(RZ),error:t}}class LZ{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=mt(this.app);for(const n of e)CE(this.app,n.next);return Promise.resolve()}}const nO="app-check-internal";!function JZ(){Zt(new Bt("app-check",t=>function VZ(t,e){return new LZ(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(nO).initialize()})),Zt(new Bt(nO,t=>function UZ(t){return{getToken:e=>ef(t,e),addTokenListener:e=>function bE(t,e,n,r){const{app:i}=t,s=mt(i),o={next:n,error:r,type:e};if(ar(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&tf(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),zP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>zP(t))}(t,"INTERNAL",e),removeTokenListener:e=>CE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),qe("@firebase/app-check","0.5.8")}();class iO{constructor(){return gw("app-check")}}typeof window<"u"&&window;var R,nee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ui={},ME=ME||{},z=nee||self;function rf(){}function kE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ic(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var NE="closure_uid_"+(1e9*Math.random()>>>0),iee=0;function see(t,e,n){return t.call.apply(t.bind,arguments)}function oee(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xt(t,e,n){return(xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?see:oee).apply(null,arguments)}function sf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Si(){this.s=this.s,this.o=this.o}var uee={};Si.prototype.s=!1,Si.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function ree(t){return Object.prototype.hasOwnProperty.call(t,NE)&&t[NE]||(t[NE]=++iee)}(this);delete uee[t]}},Si.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},oO=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function aO(t){return Array.prototype.concat.apply([],arguments)}function RE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function of(t){return/^[\s\xa0]*$/.test(t)}var nn,uO=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function tn(t,e){return-1!=t.indexOf(e)}function PE(t,e){return t<e?-1:t>e?1:0}e:{var cO=z.navigator;if(cO){var lO=cO.userAgent;if(lO){nn=lO;break e}}nn=""}function OE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dO(t){const e={};for(const n in t)e[n]=t[n];return e}var hO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<hO.length;s++)n=hO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function FE(t){return FE[" "](t),t}FE[" "]=rf;var af,t,dee=tn(nn,"Opera"),ca=tn(nn,"Trident")||tn(nn,"MSIE"),pO=tn(nn,"Edge"),LE=pO||ca,gO=tn(nn,"Gecko")&&!(tn(nn.toLowerCase(),"webkit")&&!tn(nn,"Edge"))&&!(tn(nn,"Trident")||tn(nn,"MSIE"))&&!tn(nn,"Edge"),hee=tn(nn.toLowerCase(),"webkit")&&!tn(nn,"Edge");function mO(){var t=z.document;return t?t.documentMode:void 0}e:{var VE="",UE=(t=nn,gO?/rv:([^\);]+)(\)|;)/.exec(t):pO?/Edge\/([\d\.]+)/.exec(t):ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):hee?/WebKit\/(\S+)/.exec(t):dee?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(UE&&(VE=UE?UE[1]:""),ca){var BE=mO();if(null!=BE&&BE>parseFloat(VE)){af=String(BE);break e}}af=VE}var fee={};var gee=z.document&&ca&&(mO()||parseInt(af,10))||void 0,mee=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{z.addEventListener("test",rf,e),z.removeEventListener("test",rf,e)}catch{}return t}();function jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ec(t,e){if(jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gO){e:{try{FE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:yee[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ec.Z.h.call(this)}}jt.prototype.h=function(){this.defaultPrevented=!0},Mt(Ec,jt);var yee={2:"touch",3:"pen",4:"mouse"};Ec.prototype.h=function(){Ec.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Dc="closure_listenable_"+(1e6*Math.random()|0),_ee=0;function vee(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++_ee,this.ca=this.fa=!1}function uf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function cf(t){this.src=t,this.g={},this.h=0}function $E(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=sO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(uf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function HE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}cf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=HE(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new vee(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var GE="closure_lm_"+(1e6*Math.random()|0),qE={};function _O(t,e,n,r,i){if(r&&r.once)return wO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_O(t,e[s],n,r,i);return null}return n=QE(n),t&&t[Dc]?t.N(e,n,Ic(r)?!!r.capture:!!r,i):vO(t,e,n,!1,r,i)}function vO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ic(i)?!!i.capture:!!i,a=zE(t);if(a||(t[GE]=a=new cf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function wee(){var e=Iee;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mee||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(EO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wO(t,e[s],n,r,i);return null}return n=QE(n),t&&t[Dc]?t.O(e,n,Ic(r)?!!r.capture:!!r,i):vO(t,e,n,!0,r,i)}function IO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)IO(t,e[s],n,r,i);else r=Ic(r)?!!r.capture:!!r,n=QE(n),t&&t[Dc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=HE(s=t.g[e],n,r,i))&&(uf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=zE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=HE(e,n,r,i)),(n=-1<t?e[t]:null)&&WE(n))}function WE(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Dc])$E(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(EO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zE(e))?($E(n,t),0==n.h&&(n.src=null,e[GE]=null)):uf(t)}}}function EO(t){return t in qE?qE[t]:qE[t]="on"+t}function Iee(t,e){if(t.ca)t=!0;else{e=new Ec(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&WE(t),t=n.call(r,e)}return t}function zE(t){return(t=t[GE])instanceof cf?t:null}var KE="__closure_events_fn_"+(1e9*Math.random()>>>0);function QE(t){return"function"==typeof t?t:(t[KE]||(t[KE]=function(e){return t.handleEvent(e)}),t[KE])}function yt(){Si.call(this),this.i=new cf(this),this.P=this,this.I=null}function kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new jt(e,t);else if(e instanceof jt)e.target=e.target||t;else{var i=e;fO(e=new jt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=lf(o,r,!0,e)&&i}if(i=lf(o=e.g=t,r,!0,e)&&i,i=lf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=lf(o=e.g=n[s],r,!1,e)&&i}function lf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&$E(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Mt(yt,Si),yt.prototype[Dc]=!0,yt.prototype.removeEventListener=function(t,e,n,r){IO(this,t,e,n,r)},yt.prototype.M=function(){if(yt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)uf(n[r]);delete t.g[e],t.h--}}this.I=null},yt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},yt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var YE=z.JSON.stringify;function Eee(){var t=bO;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var XE,DO=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new bee,t=>t.reset());class bee{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Cee(t){z.setTimeout(()=>{throw t},0)}function JE(t,e){XE||function Tee(){var t=z.Promise.resolve(void 0);XE=function(){t.then(Aee)}}(),ZE||(XE(),ZE=!0),bO.add(t,e)}var ZE=!1,bO=new class Dee{constructor(){this.h=this.g=null}add(e,n){const r=DO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Aee(){for(var t;t=Eee();){try{t.h.call(t.g)}catch(n){Cee(n)}var e=DO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ZE=!1}function df(t,e){yt.call(this),this.h=t||1,this.g=e||z,this.j=xt(this.kb,this),this.l=Date.now()}function eD(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function tD(t,e,n){if("function"==typeof t)n&&(t=xt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xt(t.handleEvent,t)}return 2147483647<Number(e)?-1:z.setTimeout(t,e||0)}function CO(t){t.g=tD(()=>{t.g=null,t.i&&(t.i=!1,CO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mt(df,yt),(R=df.prototype).da=!1,R.S=null,R.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kt(this,"tick"),this.da&&(eD(this),this.start()))}},R.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.M=function(){df.Z.M.call(this),eD(this),delete this.g};class See extends Si{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CO(this)}M(){super.M(),this.g&&(z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bc(t){Si.call(this),this.h=t,this.g={}}Mt(bc,Si);var TO=[];function AO(t,e,n,r){Array.isArray(n)||(n&&(TO[0]=n.toString()),n=TO);for(var i=0;i<n.length;i++){var s=_O(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function SO(t){OE(t.g,function(e,n){this.g.hasOwnProperty(n)&&WE(e)},t),t.g={}}function hf(){this.g=!0}function la(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nee(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return YE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}bc.prototype.M=function(){bc.Z.M.call(this),SO(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hf.prototype.Aa=function(){this.g=!1},hf.prototype.info=function(){};var Ts={},xO=null;function ff(){return xO=xO||new yt}function MO(t){jt.call(this,Ts.Ma,t)}function Cc(t){const e=ff();kt(e,new MO(e,t))}function kO(t,e){jt.call(this,Ts.STAT_EVENT,t),this.stat=e}function rn(t){const e=ff();kt(e,new kO(e,t))}function NO(t,e){jt.call(this,Ts.Na,t),this.size=e}function Tc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){t()},e)}Ts.Ma="serverreachability",Mt(MO,jt),Ts.STAT_EVENT="statevent",Mt(kO,jt),Ts.Na="timingevent",Mt(NO,jt);var pf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},RO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nD(){}function OO(){}nD.prototype.h=null;var sD,Ac={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rD(){jt.call(this,"d")}function iD(){jt.call(this,"c")}function gf(){}function Sc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new bc(this),this.P=Ree,this.W=new df(t=LE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new FO}function FO(){this.i=null,this.g="",this.h=!1}Mt(rD,jt),Mt(iD,jt),Mt(gf,nD),gf.prototype.g=function(){return new XMLHttpRequest},gf.prototype.i=function(){return{}},sD=new gf;var Ree=45e3,oD={},mf={};function aD(t,e,n){t.K=1,t.v=If(ci(e)),t.s=n,t.U=!0,LO(t,null)}function LO(t,e){t.F=Date.now(),xc(t),t.A=ci(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),WO(n.h,"t",r),t.C=0,n=t.l.H,t.h=new FO,t.g=gF(t.l,n?e:null,!t.s),0<t.O&&(t.L=new See(xt(t.Ia,t,t.g),t.O)),AO(t.V,t.g,"readystatechange",t.gb),e=t.H?dO(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Cc(1),function xee(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function VO(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function UO(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Pee(t,n),i==mf){4==e&&(t.o=4,rn(14),r=!1),la(t.j,t.m,null,"[Incomplete Response]");break}if(i==oD){t.o=4,rn(15),la(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}la(t.j,t.m,i,null),uD(t,i)}VO(t)&&i!=mf&&i!=oD&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,rn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),vD(e),e.L=!0,rn(11))):(la(t.j,t.m,n,"[Invalid Chunked Response]"),As(t),Mc(t))}function Pee(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?mf:(n=Number(e.substring(n,r)),isNaN(n)?oD:(r+=1)+n>e.length?mf:(e=e.substr(r,n),t.C=r+n,e))}function xc(t){t.Y=Date.now()+t.P,BO(t,t.P)}function BO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Tc(xt(t.eb,t),e)}function yf(t){t.B&&(z.clearTimeout(t.B),t.B=null)}function Mc(t){0==t.l.G||t.I||dF(t.l,t)}function As(t){yf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,eD(t.W),SO(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function uD(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||dD(n.i,t)))if(n.I=t.N,!t.J&&dD(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Af(n),Cf(n)}_D(n),rn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Tc(xt(n.ab,n),6e3));if(1>=QO(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ms(n,11)}else if((t.J||n.g==t)&&Af(n),!of(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(tn(p,"spdy")||tn(p,"quic")||tn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(hD(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Re(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=pF(r,r.H?r.la:null,r.W),o.J){YO(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(yf(a),xc(a)),r.g=o}else cF(r);0<n.l.length&&Tf(n)}else"stop"!=c[0]&&"close"!=c[0]||Ms(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ms(n,7):mD(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Cc(4)}catch{}}function cD(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(kE(t)||"string"==typeof t)oO(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(kE(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function Oee(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(kE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function da(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof da)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function lD(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ss(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ss(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ss(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(R=Sc.prototype).setTimeout=function(t){this.P=t},R.gb=function(t){t=t.target;const e=this.L;e&&3==li(t)?e.l():this.Ia(t)},R.Ia=function(t){try{if(t==this.g)e:{const l=li(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||LE||this.g&&(this.h.h||this.g.ga()||iF(this.g)))){this.I||4!=l||7==e||Cc(8==e||0>=d?3:2),yf(this);var n=this.g.ba();this.N=n;t:if(VO(this)){var r=iF(this.g);t="";var i=r.length,s=4==li(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){As(this),Mc(this);var o="";break t}this.h.i=new z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function Mee(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!of(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,rn(12),As(this),Mc(this);break e}la(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,uD(this,n)}this.U?(UO(this,l,o),LE&&this.i&&3==l&&(AO(this.V,this.W,"tick",this.fb),this.W.start())):(la(this.j,this.m,o,null),uD(this,o)),4==l&&As(this),this.i&&!this.I&&(4==l?dF(this.l,this):(this.i=!1,xc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,rn(12)):(this.o=0,rn(13)),As(this),Mc(this)}}}catch{}},R.fb=function(){if(this.g){var t=li(this.g),e=this.g.ga();this.C<e.length&&(yf(this),UO(this,t,e),this.i&&4!=t&&xc(this))}},R.cancel=function(){this.I=!0,As(this)},R.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function kee(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Cc(3),rn(17)),As(this),this.o=2,Mc(this)):BO(this,this.Y-t)},(R=da.prototype).R=function(){lD(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},R.T=function(){return lD(this),this.g.concat()},R.get=function(t,e){return Ss(this.h,t)?this.h[t]:e},R.set=function(t,e){Ss(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},R.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var jO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xs(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof xs){this.g=void 0!==e?e:t.g,_f(this,t.j),this.s=t.s,vf(this,t.i),wf(this,t.m),this.l=t.l,e=t.h;var n=new Rc;n.i=e.i,e.g&&(n.g=new da(e.g),n.h=e.h),$O(this,n),this.o=t.o}else t&&(n=String(t).match(jO))?(this.g=!!e,_f(this,n[1]||"",!0),this.s=kc(n[2]||""),vf(this,n[3]||"",!0),wf(this,n[4]),this.l=kc(n[5]||"",!0),$O(this,n[6]||"",!0),this.o=kc(n[7]||"")):(this.g=!!e,this.h=new Rc(null,this.g))}function ci(t){return new xs(t)}function _f(t,e,n){t.j=n?kc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vf(t,e,n){t.i=n?kc(e,!0):e}function wf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $O(t,e,n){e instanceof Rc?(t.h=e,function Gee(t,e){e&&!t.j&&(xi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(GO(this,r),WO(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Nc(e,$ee)),t.h=new Rc(e,t.g))}function Re(t,e,n){t.h.set(e,n)}function If(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function kc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Nc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Uee),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Uee(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Nc(e,HO,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Nc(e,HO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Nc(n,"/"==n.charAt(0)?jee:Bee,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Nc(n,Hee)),t.join("")};var HO=/[#\/\?@]/g,Bee=/[#\?:]/g,jee=/[#\?]/g,$ee=/[#\?@]/g,Hee=/#/g;function Rc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xi(t){t.g||(t.g=new da,t.h=0,t.i&&function Fee(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function GO(t,e){xi(t),e=ha(t,e),Ss(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ss((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&lD(t)))}function qO(t,e){return xi(t),e=ha(t,e),Ss(t.g.h,e)}function WO(t,e,n){GO(t,e),0<n.length&&(t.i=null,t.g.set(ha(t,e),RE(n)),t.h+=n.length)}function ha(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function zO(t){this.l=t||Wee,t=z.PerformanceNavigationTiming?0<(t=z.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(z.g&&z.g.Ea&&z.g.Ea()&&z.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=Rc.prototype).add=function(t,e){xi(this),this.i=null,t=ha(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){xi(this),this.g.forEach(function(n,r){oO(n,function(i){t.call(e,i,r,this)},this)},this)},R.T=function(){xi(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},R.R=function(t){xi(this);var e=[];if("string"==typeof t)qO(this,t)&&(e=aO(e,this.g.get(ha(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=aO(e,t[n])}return e},R.set=function(t,e){return xi(this),this.i=null,qO(this,t=ha(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Wee=10;function KO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function QO(t){return t.h?1:t.g?t.g.size:0}function dD(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function hD(t,e){t.g?t.g.add(e):t.h=e}function YO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function JO(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return RE(t.i)}function fD(){}function zee(){this.g=new fD}function Kee(t,e,n){const r=n||"";try{cD(t,function(i,s){let o=i;Ic(i)&&(o=YE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ef(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pc(t){this.l=t.$b||null,this.j=t.ib||!1}function Df(t,e){yt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=pD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zO.prototype.cancel=function(){if(this.i=JO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},fD.prototype.stringify=function(t){return z.JSON.stringify(t,void 0)},fD.prototype.parse=function(t){return z.JSON.parse(t,void 0)},Mt(Pc,nD),Pc.prototype.g=function(){return new Df(this.l,this.j)},Pc.prototype.i=function(t){return function(){return t}}({}),Mt(Df,yt);var pD=0;function XO(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Oc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fc(t)}function Fc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=Df.prototype).open=function(t,e){if(this.readyState!=pD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fc(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||z).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oc(this)),this.readyState=pD},R.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fc(this)),this.g&&(this.readyState=3,Fc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XO(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},R.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Oc(this):Fc(this),3==this.readyState&&XO(this)}},R.Ua=function(t){this.g&&(this.response=this.responseText=t,Oc(this))},R.Ta=function(t){this.g&&(this.response=t,Oc(this))},R.ha=function(){this.g&&Oc(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Df.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Yee=z.JSON.parse;function Xe(t){yt.call(this),this.headers=new da,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ZO,this.K=this.L=!1}Mt(Xe,yt);var ZO="",Jee=/^https?$/i,Xee=["POST","PUT"];function ete(t){return"content-type"==t.toLowerCase()}function eF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,tF(t),bf(t)}function tF(t){t.D||(t.D=!0,kt(t,"complete"),kt(t,"error"))}function nF(t){if(t.h&&typeof ME<"u"&&(!t.C[1]||4!=li(t)||2!=t.ba()))if(t.v&&4==li(t))tD(t.Fa,0,t);else if(kt(t,"readystatechange"),4==li(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(jO)[1]||null;if(!i&&z.self&&z.self.location){var s=z.self.location.protocol;i=s.substr(0,s.length-1)}r=!Jee.test(i?i.toLowerCase():"")}n=r}if(n)kt(t,"complete"),kt(t,"success");else{t.m=6;try{var o=2<li(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",tF(t)}}finally{bf(t)}}}function bf(t,e){if(t.g){rF(t);const n=t.g,r=t.C[0]?rf:null;t.g=null,t.C=null,e||kt(t,"ready");try{n.onreadystatechange=r}catch{}}}function rF(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(z.clearTimeout(t.A),t.A=null)}function li(t){return t.g?t.g.readyState:0}function iF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ZO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function gD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function tte(t){let e="";return OE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Re(t,e,n))}function Lc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sF(t){this.za=0,this.l=[],this.h=new hf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lc("baseRetryDelayMs",5e3,t),this.$a=Lc("retryDelaySeedMs",1e4,t),this.Ya=Lc("forwardChannelMaxRetries",2,t),this.ra=Lc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new zO(t&&t.concurrentRequestLimit),this.Ca=new zee,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function mD(t){if(oF(t),3==t.G){var e=t.V++,n=ci(t.F);Re(n,"SID",t.J),Re(n,"RID",e),Re(n,"TYPE","terminate"),Vc(t,n),(e=new Sc(t,t.h,e,void 0)).K=2,e.v=If(ci(n)),n=!1,z.navigator&&z.navigator.sendBeacon&&(n=z.navigator.sendBeacon(e.v.toString(),"")),!n&&z.Image&&((new Image).src=e.v,n=!0),n||(e.g=gF(e.l,null),e.g.ea(e.v)),e.F=Date.now(),xc(e)}fF(t)}function Cf(t){t.g&&(vD(t),t.g.cancel(),t.g=null)}function oF(t){Cf(t),t.u&&(z.clearTimeout(t.u),t.u=null),Af(t),t.i.cancel(),t.m&&("number"==typeof t.m&&z.clearTimeout(t.m),t.m=null)}function yD(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Tf(t)}function Tf(t){KO(t.i)||t.m||(t.m=!0,JE(t.Ha,t),t.C=0)}function aF(t,e){var n;n=e?e.m:t.V++;const r=ci(t.F);Re(r,"SID",t.J),Re(r,"RID",n),Re(r,"AID",t.U),Vc(t,r),t.o&&t.s&&gD(r,t.o,t.s),n=new Sc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=uF(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),hD(t.i,n),aD(n,r,e)}function Vc(t,e){t.j&&cD({},function(n,r){Re(e,r,n)})}function uF(t,e,n){n=Math.min(t.l.length,n);var r=t.j?xt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Kee(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function cF(t){t.g||t.u||(t.Y=1,JE(t.Ga,t),t.A=0)}function _D(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Tc(xt(t.Ga,t),hF(t,t.A)),t.A++,0))}function vD(t){null!=t.B&&(z.clearTimeout(t.B),t.B=null)}function lF(t){t.g=new Sc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ci(t.oa);Re(e,"RID","rpc"),Re(e,"SID",t.J),Re(e,"CI",t.N?"0":"1"),Re(e,"AID",t.U),Vc(t,e),Re(e,"TYPE","xmlhttp"),t.o&&t.s&&gD(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=If(ci(e)),n.s=null,n.U=!0,LO(n,t)}function Af(t){null!=t.v&&(z.clearTimeout(t.v),t.v=null)}function dF(t,e){var n=null;if(t.g==e){Af(t),vD(t),t.g=null;var r=2}else{if(!dD(t.i,e))return;n=e.D,YO(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;kt(r=ff(),new NO(r,n,e,i)),Tf(t)}else cF(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function nte(t,e){return!(QO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Tc(xt(t.Ha,t,e),hF(t,t.C)),t.C++,0)))}(t,e)||2==r&&_D(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ms(t,5);break;case 4:Ms(t,10);break;case 3:Ms(t,6);break;default:Ms(t,2)}}function hF(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ms(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=xt(t.jb,t);n||(n=new xs("//www.google.com/images/cleardot.gif"),z.location&&"http"==z.location.protocol||_f(n,"https"),If(n)),function Qee(t,e){const n=new hf;if(z.Image){const r=new Image;r.onload=sf(Ef,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sf(Ef,n,r,"TestLoadImage: error",!1,e),r.onabort=sf(Ef,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sf(Ef,n,r,"TestLoadImage: timeout",!1,e),z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else rn(2);t.G=0,t.j&&t.j.va(e),fF(t),oF(t)}function fF(t){t.G=0,t.I=-1,t.j&&((0!=JO(t.i).length||0!=t.l.length)&&(t.i.i.length=0,RE(t.l),t.l.length=0),t.j.ua())}function pF(t,e,n){let r=function Lee(t){return t instanceof xs?ci(t):new xs(t,void 0)}(n);if(""!=r.i)e&&vf(r,e+"."+r.i),wf(r,r.m);else{const i=z.location;r=function Vee(t,e,n,r){var i=new xs(null,void 0);return t&&_f(i,t),e&&vf(i,e),n&&wf(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&OE(t.aa,function(i,s){Re(r,s,i)}),n=t.sa,(e=t.D)&&n&&Re(r,e,n),Re(r,"VER",t.ma),Vc(t,r),r}function gF(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xe(n&&t.Ba&&!t.qa?new Pc({ib:!0}):t.qa)).L=t.H,e}function mF(){}function Sf(){if(ca&&!(10<=Number(gee)))throw Error("Environmental error: no available transport.")}function Nn(t,e){yt.call(this),this.g=new sF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!of(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!of(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new fa(this)}function yF(t){rD.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function _F(){iD.call(this),this.status=1}function fa(t){this.g=t}(R=Xe.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sD.g(),this.C=function PO(t){return t.h||(t.h=t.i())}(this.u?this.u:sD),this.g.onreadystatechange=xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void eF(this,s)}t=n||"";const i=new da(this.headers);r&&cD(r,function(s,o){i.set(o,s)}),r=function cee(t){e:{var e=ete;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=z.FormData&&t instanceof z.FormData,!(0<=sO(Xee,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rF(this),0<this.B&&((this.K=function Zee(t){return ca&&function pee(){return function lee(t){var e=fee;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=uO(String(af)).split("."),n=uO("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=PE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||PE(0==i[2].length,0==s[2].length)||PE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.pa,this)):this.A=tD(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){eF(this,s)}},R.pa=function(){typeof ME<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kt(this,"complete"),kt(this,"abort"),bf(this))},R.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bf(this,!0)),Xe.Z.M.call(this)},R.Fa=function(){this.s||(this.F||this.v||this.l?nF(this):this.cb())},R.cb=function(){nF(this)},R.ba=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},R.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},R.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Yee(e)}},R.Da=function(){return this.m},R.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=sF.prototype).ma=8,R.G=1,R.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}},R.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Sc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=dO(s),fO(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uF(this,i,e),Re(n=ci(this.F),"RID",t),Re(n,"CVER",22),this.D&&Re(n,"X-HTTP-Session-Id",this.D),Vc(this,n),this.o&&s&&gD(n,this.o,s),hD(this.i,i),this.Ra&&Re(n,"TYPE","init"),this.ja?(Re(n,"$req",e),Re(n,"SID","null"),i.$=!0,aD(i,n,null)):aD(i,n,e),this.G=2}}else 3==this.G&&(t?aF(this,t):0==this.l.length||KO(this.i)||aF(this))},R.Ga=function(){if(this.u=null,lF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Tc(xt(this.bb,this),t)}},R.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rn(10),Cf(this),lF(this))},R.ab=function(){null!=this.v&&(this.v=null,Cf(this),_D(this),rn(19))},R.jb=function(t){t?(this.h.info("Successfully pinged google.com"),rn(2)):(this.h.info("Failed to ping google.com"),rn(1))},(R=mF.prototype).xa=function(){},R.wa=function(){},R.va=function(){},R.ua=function(){},R.Oa=function(){},Sf.prototype.g=function(t,e){return new Nn(t,e)},Mt(Nn,yt),Nn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),JE(xt(t.hb,t,e))),rn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=pF(t,null,t.W),Tf(t)},Nn.prototype.close=function(){mD(this.g)},Nn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,yD(this.g,e)}else this.v?((e={}).__data__=YE(t),yD(this.g,e)):yD(this.g,t)},Nn.prototype.M=function(){this.g.j=null,delete this.j,mD(this.g),delete this.g,Nn.Z.M.call(this)},Mt(yF,rD),Mt(_F,iD),Mt(fa,mF),fa.prototype.xa=function(){kt(this.g,"a")},fa.prototype.wa=function(t){kt(this.g,new yF(t))},fa.prototype.va=function(t){kt(this.g,new _F(t))},fa.prototype.ua=function(){kt(this.g,"b")},Sf.prototype.createWebChannel=Sf.prototype.g,Nn.prototype.send=Nn.prototype.u,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,pf.NO_ERROR=0,pf.TIMEOUT=8,pf.HTTP_ERROR=6,RO.COMPLETE="complete",OO.EventType=Ac,Ac.OPEN="a",Ac.CLOSE="b",Ac.ERROR="c",Ac.MESSAGE="d",yt.prototype.listen=yt.prototype.N,Xe.prototype.listenOnce=Xe.prototype.O,Xe.prototype.getLastError=Xe.prototype.La,Xe.prototype.getLastErrorCode=Xe.prototype.Da,Xe.prototype.getStatus=Xe.prototype.ba,Xe.prototype.getResponseJson=Xe.prototype.Qa,Xe.prototype.getResponseText=Xe.prototype.ga,Xe.prototype.send=Xe.prototype.ea;var rte=ui.createWebChannelTransport=function(){return new Sf},ite=ui.getStatEventTarget=function(){return ff()},wD=ui.ErrorCode=pf,ste=ui.EventType=RO,ote=ui.Event=Ts,vF=ui.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ate=ui.FetchXmlHttpFactory=Pc,xf=ui.WebChannel=OO,ute=ui.XhrIo=Xe;const wF="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let pa="9.8.0";const Mi=new ta("@firebase/firestore");function ID(){return Mi.logLevel}function T(t,...e){if(Mi.logLevel<=ce.DEBUG){const n=e.map(ED);Mi.debug(`Firestore (${pa}): ${t}`,...n)}}function Ze(t,...e){if(Mi.logLevel<=ce.ERROR){const n=e.map(ED);Mi.error(`Firestore (${pa}): ${t}`,...n)}}function Mf(t,...e){if(Mi.logLevel<=ce.WARN){const n=e.map(ED);Mi.warn(`Firestore (${pa}): ${t}`,...n)}}function ED(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: `+t;throw Ze(e),new Error(e)}function q(t,e){t||P()}function M(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _t{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class IF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class dte{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new _t;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _t,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _t)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new IF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new Nt(e)}}class hte{constructor(e,n,r){this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class fte{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new hte(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pte{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(q("string"==typeof n.token),this.p=n.token,new EF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Rn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function gte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Rn.A=-1;class DF{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function X(t,e){return t<e?-1:t>e?1:0}function ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new et(0,0))}static max(){return new U(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function CF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Uc{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Uc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class le extends Uc{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new le(n)}static emptyPath(){return new le([])}}const mte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Uc{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return mte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}class ma{constructor(e){this.fields=e,e.sort(vt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const yte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(t){if(q(!!t),"string"==typeof t){let e=0;const n=yte.exec(t);if(q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ns(t){return"string"==typeof t?dt.fromBase64String(t):dt.fromUint8Array(t)}function DD(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function AF(t){const e=t.mapValue.fields.__previous_value__;return DD(e)?AF(e):e}function Bc(t){const e=ki(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}class _te{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Ni{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ni("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ni&&e.projectId===this.projectId&&e.database===this.database}}function jc(t){return null==t}function $c(t){return 0===t&&1/t==-1/0}class x{constructor(e){this.path=e}static fromPath(e){return new x(le.fromString(e))}static fromName(e){return new x(le.fromString(e).popFirst(5))}static empty(){return new x(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===le.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new le(e.slice()))}}const Ri_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?DD(t)?4:NF(t)?9007199254740991:10:P()}function Mr(t,e){if(t===e)return!0;const n=Rs(t);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bc(t).isEqual(Bc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ki(r.timestampValue),o=ki(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ns(t.bytesValue).isEqual(Ns(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return He(r.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(r.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return He(r.integerValue)===He(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=He(r.doubleValue),o=He(i.doubleValue);return s===o?$c(s)===$c(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(CF(s)!==CF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Mr(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function Hc(t,e){return void 0!==(t.values||[]).find(n=>Mr(n,e))}function Pi(t,e){if(t===e)return 0;const n=Rs(t),r=Rs(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=He(i.integerValue||i.doubleValue),a=He(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return xF(t.timestampValue,e.timestampValue);case 4:return xF(Bc(t),Bc(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ns(i),a=Ns(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=X(o[u],a[u]);if(0!==c)return c}return X(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=X(He(i.latitude),He(s.latitude));return 0!==o?o:X(He(i.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Pi(o[u],a[u]);if(c)return c}return X(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ri_mapValue&&s===Ri_mapValue)return 0;if(i===Ri_mapValue)return 1;if(s===Ri_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=X(a[l],c[l]);if(0!==d)return d;const h=Pi(o[a[l]],u[c[l]]);if(0!==h)return h}return X(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function xF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);const n=ki(t),r=ki(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function ya(t){return bD(t)}function bD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ki(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ns(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=bD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${bD(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function CD(t){return!!t&&"integerValue"in t}function Gc(t){return!!t&&"arrayValue"in t}function MF(t){return!!t&&"nullValue"in t}function kF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nf(t){return!!t&&"mapValue"in t}function qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(qc(this.value))}}function OF(t){const e=[];return ks(t.fields,(n,r)=>{const i=new vt([n]);if(Nf(r)){const s=OF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ma(e)}class xe{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new xe(e,0,U.min(),U.min(),$t.empty(),0)}static newFoundDocument(e,n,r){return new xe(e,1,n,U.min(),r,0)}static newNoDocument(e,n){return new xe(e,2,n,U.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new xe(e,3,n,U.min(),$t.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function Ite(t){return new ur(t.readTime,t.key,-1)}class ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(U.min(),x.empty(),-1)}static max(){return new ur(U.max(),x.empty(),-1)}}function LF(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:X(t.largestBatchId,e.largestBatchId))}class We{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1,Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Rt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Se{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VF(this.data.getIterator())}getIteratorFrom(e){return new VF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Se(this.comparator);return n.data=e,n}}class VF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ete{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function UF(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ete(t,e,n,r,i,s,o)}function Fs(t){const e=M(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ya(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),jc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ya(r)).join(",")),e.P=n}return e.P}function zc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!kte(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Mr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GF(t.startAt,e.startAt)&&GF(t.endAt,e.endAt)}function Ff(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Pt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,r):new bte(e,n,r):"array-contains"===n?new Ate(e,r):"in"===n?new Ste(e,r):"not-in"===n?new xte(e,r):"array-contains-any"===n?new Mte(e,r):new Pt(e,n,r)}static V(e,n,r){return"in"===n?new Cte(e,r):new Tte(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Pi(n,this.value)):null!==n&&Rs(this.value)===Rs(n)&&this.v(Pi(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bte extends Pt{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.v(n)}}class Cte extends Pt{constructor(e,n){super(e,"in",n),this.keys=$F(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Tte extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=$F(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $F(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class Ate extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gc(n)&&Hc(n.arrayValue,this.value)}}class Ste extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Hc(this.value.arrayValue,n)}}class xte extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Hc(this.value.arrayValue,n)}}class Mte extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hc(this.value.arrayValue,r))}}class Oi{constructor(e,n){this.position=e,this.inclusive=n}}class va{constructor(e,n="asc"){this.field=e,this.dir=n}}function kte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function HF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Pi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function GF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}class di{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function wa(t){return new di(t)}function Ia(t){const e=M(t);if(null===e.D){e.D=[];const n=function SD(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function AD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new va(n)),e.D.push(new va(vt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new va(vt.keyField(),s))}}}return e.D}function qn(t){const e=M(t);if(!e.C)if("F"===e.limitType)e.C=UF(e.path,e.collectionGroup,Ia(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ia(e))n.push(new va(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Oi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Oi(e.startAt.position,e.startAt.inclusive):null;e.C=UF(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function Kc(t,e){return zc(qn(t),qn(e))&&t.limitType===e.limitType}function zF(t){return`${Fs(qn(t))}|lt:${t.limitType}`}function MD(t){return`Query(target=${function Dte(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${ya(r.value)}`;var r}).join(", ")}]`),jc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>ya(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>ya(n)).join(",")),`Target(${e})`}(qn(t))}; limitType=${t.limitType})`}function kD(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=HF(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ia(n),r)||n.endAt&&!function(i,s,o){const a=HF(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ia(n),r)));var n,r}function QF(t){return(e,n)=>{let r=!1;for(const i of Ia(t)){const s=Rte(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Rte(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Pi(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}function YF(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function JF(t){return{integerValue:""+t}}function XF(t,e){return function SF(t){return"number"==typeof t&&Number.isInteger(t)&&!$c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?JF(e):YF(t,e)}class Vf{constructor(){this._=void 0}}function Pte(t,e,n){return t instanceof Ea?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ls?eL(t,e):t instanceof Vs?tL(t,e):function(r,i){const s=ZF(r,i),o=nL(s)+nL(r.k);return CD(s)&&CD(r.k)?JF(o):YF(r.M,o)}(t,e)}function Ote(t,e,n){return t instanceof Ls?eL(t,e):t instanceof Vs?tL(t,e):n}function ZF(t,e){return t instanceof Da?CD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ea extends Vf{}class Ls extends Vf{constructor(e){super(),this.elements=e}}function eL(t,e){const n=rL(e);for(const r of t.elements)n.some(i=>Mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vs extends Vf{constructor(e){super(),this.elements=e}}function tL(t,e){let n=rL(e);for(const r of t.elements)n=n.filter(i=>!Mr(i,r));return{arrayValue:{values:n}}}class Da extends Vf{constructor(e,n){super(),this.M=e,this.k=n}}function nL(t){return He(t.integerValue||t.doubleValue)}function rL(t){return Gc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Lte{constructor(e,n){this.version=e,this.transformResults=n}}class tt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tt}static exists(e){return new tt(void 0,e)}static updateTime(e){return new tt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Bf{}function Vte(t,e,n){t instanceof Yc?function(r,i,s){const o=r.value.clone(),a=aL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Us?function(r,i,s){if(!Uf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=aL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(oL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ND(t,e,n){var i;t instanceof Yc?function(r,i,s){if(!Uf(r.precondition,i))return;const o=r.value.clone(),a=uL(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(sL(i),o).setHasLocalMutations()}(t,e,n):t instanceof Us?function(r,i,s){if(!Uf(r.precondition,i))return;const o=uL(r.fieldTransforms,s,i),a=i.data;a.setAll(oL(r)),a.setAll(o),i.convertToFoundDocument(sL(i),a).setHasLocalMutations()}(t,e,n):Uf(t.precondition,i=e)&&i.convertToNoDocument(U.min())}function Ute(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ZF(r.transform,i||null);null!=s&&(null==n&&(n=$t.empty()),n.set(r.field,s))}return n||null}function iL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ga(n,r,(i,s)=>function Fte(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ls&&r instanceof Ls||n instanceof Vs&&r instanceof Vs?ga(n.elements,r.elements,Mr):n instanceof Da&&r instanceof Da?Mr(n.k,r.k):n instanceof Ea&&r instanceof Ea);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function sL(t){return t.isFoundDocument()?t.version:U.min()}class Yc extends Bf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Us extends Bf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function oL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aL(t,e,n){const r=new Map;q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ote(o,a,n[i]))}return r}function uL(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Pte(s,o,e))}return r}class Jc extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class RD extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class Bte{constructor(e){this.count=e}}var nt,de;function cL(t){switch(t){default:return P();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function lL(t){if(void 0===t)return Ze("GRPC error has no .code"),v.UNKNOWN;switch(t){case nt.OK:return v.OK;case nt.CANCELLED:return v.CANCELLED;case nt.UNKNOWN:return v.UNKNOWN;case nt.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case nt.INTERNAL:return v.INTERNAL;case nt.UNAVAILABLE:return v.UNAVAILABLE;case nt.UNAUTHENTICATED:return v.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case nt.NOT_FOUND:return v.NOT_FOUND;case nt.ALREADY_EXISTS:return v.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return v.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case nt.ABORTED:return v.ABORTED;case nt.OUT_OF_RANGE:return v.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return v.UNIMPLEMENTED;case nt.DATA_LOSS:return v.DATA_LOSS;default:return P()}}(de=nt||(nt={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return TF(this.inner)}size(){return this.innerSize}}const jte=new We(x.comparator);function Wn(){return jte}const $te=new We(x.comparator);function PD(...t){let e=$te;for(const n of t)e=e.insert(n.key,n);return e}function Xc(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hte=new We(x.comparator),Gte=new Se(x.comparator);function me(...t){let e=Gte;for(const n of t)e=e.add(n);return e}const qte=new Se(X);function jf(){return qte}class Zc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,el.createSynthesizedTargetChangeForCurrentChange(e,n)),new Zc(U.min(),r,jf(),Wn(),me())}}class el{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new el(dt.EMPTY_BYTE_STRING,n,me(),me(),me())}}class $f{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class dL{constructor(e,n){this.targetId=e,this.$=n}}class hL{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fL{constructor(){this.B=0,this.L=gL(),this.U=dt.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=me(),n=me(),r=me();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new el(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=gL()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Wte{constructor(e){this.nt=e,this.st=new Map,this.it=Wn(),this.rt=pL(),this.ot=new Se(X)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(Ff(s))if(0===r){const o=new x(s.path);this.ct(n,o,xe.newNoDocument(o,U.min()))}else q(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Ff(a.target)){const u=new x(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.ct(o,u,xe.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=me();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Zc(e,n,this.ot,this.it,r);return this.it=Wn(),this.rt=pL(),this.ot=new Se(X),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new fL,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Se(X),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new fL),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function pL(){return new We(x.comparator)}function gL(){return new We(x.comparator)}const zte={asc:"ASCENDING",desc:"DESCENDING"},Kte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Qte{constructor(e,n){this.databaseId=e,this.N=n}}function tl(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mL(t,e){return t.N?e.toBase64():e.toUint8Array()}function Yte(t,e){return tl(t,e.toTimestamp())}function wt(t){return q(!!t),U.fromTimestamp(function(e){const n=ki(e);return new et(n.seconds,n.nanos)}(t))}function OD(t,e){return(n=t,new le(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function yL(t){const e=le.fromString(t);return q(TL(e)),e}function nl(t,e){return OD(t.databaseId,e.path)}function kr(t,e){const n=yL(e);if(n.get(1)!==t.databaseId.projectId)throw new C(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(vL(n))}function FD(t,e){return OD(t.databaseId,e)}function rl(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vL(t){return q(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function wL(t,e,n){return{name:nl(t,e),fields:n.value.mapValue.fields}}function EL(t,e){return{documents:[FD(t,e.path)]}}function DL(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=FD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=FD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(kF(d.value))return{unaryFilter:{field:ba(d.field),op:"IS_NAN"}};if(MF(d.value))return{unaryFilter:{field:ba(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(kF(d.value))return{unaryFilter:{field:ba(d.field),op:"IS_NOT_NAN"}};if(MF(d.value))return{unaryFilter:{field:ba(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(d.field),op:nne(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ba((l=c).field),direction:tne(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.N||jc(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function bL(t){let e=function _L(t){const e=yL(t);return 4===e.length?le.emptyPath():vL(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){q(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=CL(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new va(Ca((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,jc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Oi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Oi(l.values||[],!l.before)}(n.endAt)),function qF(t,e,n,r,i,s,o,a){return new di(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function CL(t){return t?void 0!==t.unaryFilter?[ine(t)]:void 0!==t.fieldFilter?[rne(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>CL(e)).reduce((e,n)=>e.concat(n)):P():[]}function tne(t){return zte[t]}function nne(t){return Kte[t]}function ba(t){return{fieldPath:t.canonicalString()}}function Ca(t){return vt.fromServerFormat(t.fieldPath)}function rne(t){return Pt.create(Ca(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(t.fieldFilter.op),t.fieldFilter.value)}function ine(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ca(t.unaryFilter.field);return Pt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ca(t.unaryFilter.field);return Pt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ca(t.unaryFilter.field);return Pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ca(t.unaryFilter.field);return Pt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return P()}}function sne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TL(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}const NL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Bs(t){return"IndexedDbTransactionError"===t.name}class UD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Vte(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&ND(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&ND(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(U.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>iL(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>iL(n,r))}}class BD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){q(e.mutations.length===r.length);let i=Hte;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new BD(e,n,r,i)}}class jD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Li{constructor(e,n,r,i,s=U.min(),o=U.min(),a=dt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class OL{constructor(e){this.Jt=e}}function $D(t){const e=bL({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function WF(t,e,n){return new di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class Gs{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(He(e.integerValue));else if("doubleValue"in e){const r=He(e.doubleValue);isNaN(r)?this.ne(n,13):(this.ne(n,15),$c(r)?n.se(0):n.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(n,20),"string"==typeof r?n.ie(r):(n.ie(`${r.seconds||""}`),n.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(Ns(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(n,45),n.se(r.latitude||0),n.se(r.longitude||0)}else"mapValue"in e?NF(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):P()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const r=e.fields||{};this.ne(n,55);for(const i of Object.keys(r))this.re(i,n),this.te(r[i],n)}he(e,n){const r=e.values||[];this.ne(n,50);for(const i of r)this.te(i,n)}ae(e,n){this.ne(n,37),x.fromName(e).path.forEach(r=>{this.ne(n,60),this.le(r,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}Gs.fe=new Gs;class Pne{constructor(){this.qe=new qD}addToCollectionParentIndex(e,n){return this.qe.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(ur.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class qD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Se(le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Se(le.comparator)).toArray()}}new Uint8Array(0);class mn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class zs{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new zs(0)}static yn(){return new zs(-1)}}function Ks(t){return zD.apply(this,arguments)}function zD(){return zD=m(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==NL)throw t;T("LocalStore","Unexpectedly lost primary lease")}),zD.apply(this,arguments)}class qne{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,n.path):function xD(t){return null!==t.collectionGroup}(n)?this.Ws(e,n,r):this.zs(e,n,r);var i}js(e,n){return this.Ls(e,new x(n)).next(r=>{let i=PD();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=PD();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new di(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.zs(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let c=i.get(u);null==c&&(c=xe.newInvalidDocument(u),i=i.insert(u,c)),ND(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{kD(n,o)||(i=i.remove(s))}),i))}}class JD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new JD(e,n.fromCache,r,i)}}class eV{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,r,i){return this.ti(e,n).next(s=>s||this.ei(e,n,i,r)).next(s=>s||this.ni(e,n))}ti(e,n){return w.resolve(null)}ei(e,n,r,i){return function Nte(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(U.min())?this.ni(e,n):this.Zs.Ks(e,r).next(s=>{const o=this.si(n,s);return this.ii(n,o,r,i)?this.ni(e,n):(ID()<=ce.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),MD(n)),this.ri(e,o,n,function FF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new et(n+1,0):new et(n,r));return new ur(i,x.empty(),e)}(i,-1)))})}si(e,n){let r=new Se(QF(e));return n.forEach((i,s)=>{kD(e,s)&&(r=r.add(s))}),r}ii(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,n){return ID()<=ce.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",MD(n)),this.Zs.Qs(e,n,ur.min())}ri(e,n,r,i){return this.Zs.Qs(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Wne{constructor(e,n,r,i){this.persistence=e,this.oi=n,this.M=i,this.ui=new We(X),this.ai=new Fi(s=>Fs(s),zc),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new qne(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function nV(t,e){return XD.apply(this,arguments)}function XD(){return XD=m(function*(t,e){const n=M(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.li(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=me();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.fi.Ks(r,u).next(c=>({di:c,removedBatchIds:o,addedBatchIds:a}))})})}),XD.apply(this,arguments)}function zne(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);q(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.Bs.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.fi.Ks(r,i))})}function rV(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function Kne(t,e){const n=M(t),r=e.snapshotVersion;let i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.fs.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.fs.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,g;e.targetMismatches.has(l)?h=h.withResumeToken(dt.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,g=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.fs.updateTargetData(s,h))});let u=Wn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function iV(t,e,n){let r=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Wn();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(U.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):T("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(c=>{u=c})),!r.isEqual(U.min())){const c=n.fs.getLastRemoteSnapshotVersion(s).next(l=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.fi.Gs(s,u)).next(()=>u)}).then(s=>(n.ui=i,s))}function Qne(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function xa(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new Li(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ui=n.ui.insert(r.targetId,r),n.ai.set(e,r.targetId)),r})}function Ma(t,e,n){return ZD.apply(this,arguments)}function ZD(){return ZD=m(function*(t,e,n){const r=M(t),i=r.ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Bs(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),ZD.apply(this,arguments)}function Xf(t,e,n){const r=M(t);let i=U.min(),s=me();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.ai.get(c);return void 0!==d?w.resolve(l.ui.get(d)):l.fs.getTargetData(u,c)}(r,o,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.oi.Qs(o,e,n?i:U.min(),n?s:me())).next(a=>(function aV(t,e,n){let r=U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ci.set(e,r)}(r,function KF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,_i:s})))}class Xne{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return w.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var r;return this.yi.set(n.id,{id:(r=n).id,version:r.version,createTime:wt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,{name:(r=n).name,query:$D(r.bundledQuery),readTime:wt(r.readTime)}),w.resolve();var r}}class Zne{constructor(){this.overlays=new We(x.comparator),this.Ii=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Xc(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Xc(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Xc(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}Xt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jD(n,r));let s=this.Ii.get(n);void 0===s&&(s=me(),this.Ii.set(n,s)),this.Ii.set(n,s.add(r.key))}}class nb{constructor(){this.Ti=new Se(Et.Ei),this.Ai=new Se(Et.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Pi(new Et(e,n))}Vi(e,n){e.forEach(r=>this.removeReference(r,n))}vi(e){const n=new x(new le([])),r=new Et(n,e),i=new Et(n,e+1),s=[];return this.Ai.forEachInRange([r,i],o=>{this.Pi(o),s.push(o.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new x(new le([])),r=new Et(n,e),i=new Et(n,e+1);let s=me();return this.Ai.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Et(e,0),r=this.Ti.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return x.comparator(e.key,n.key)||X(e.Ci,n.Ci)}static Ri(e,n){return X(e.Ci,n.Ci)||x.comparator(e.key,n.key)}}class ere{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Se(Et.Ei)}checkEmpty(e){return w.resolve(0===this.Bs.length)}addMutationBatch(e,n,r,i){const s=this.xi;this.xi++;const o=new UD(s,n,r,i);this.Bs.push(o);for(const a of i)this.Ni=this.Ni.add(new Et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Mi(n+1),s=i<0?0:i;return w.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return w.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],o=>{const a=this.ki(o.Ci);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Se(X);return n.forEach(i=>{const s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,o],a=>{r=r.add(a.Ci)})}),w.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Et(new x(s),0);let a=new Se(X);return this.Ni.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Ci)),!0)},o),w.resolve(this.Oi(a))}Oi(e){const n=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){q(0===this.Fi(n.batchId,"removed")),this.Bs.shift();let r=this.Ni;return w.forEach(n.mutations,i=>{const s=new Et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,n){const r=new Et(n,0),i=this.Ni.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class tre{constructor(e){this.$i=e,this.docs=new We(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.$i(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=Wn();const s=new x(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||LF(Ite(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){P()}Bi(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nre(this)}getSize(e){return w.resolve(this.size)}}class nre extends class jne{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class rre{constructor(e){this.persistence=e,this.Li=new Fi(n=>Fs(n),zc),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Ui=0,this.qi=new nb,this.targetCount=0,this.Ki=zs.gn()}forEachTarget(e,n){return this.Li.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ui&&(this.Ui=n),w.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new zs(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Tn(n),w.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Li.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Li.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Li.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.qi.bi(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.qi.Vi(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qi.Di(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.qi.containsKey(n))}}class ire{constructor(e,n){this.Gi={},this.overlays={},this.es=new Rn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new rre(this),this.indexManager=new Pne,this.ds=new tre(r=>this.referenceDelegate.Qi(r)),this.M=new OL(n),this._s=new Xne(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Gi[e.toKey()];return r||(r=new ere(n,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new sre(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,n){return w.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,n)))}}class sre extends class bne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class rb{constructor(e){this.persistence=e,this.Hi=new nb,this.Ji=null}static Yi(e){return new rb(e)}get Xi(){if(this.Ji)return this.Ji;throw P()}addReference(e,n,r){return this.Hi.addReference(r,n),this.Xi.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Hi.removeReference(r,n),this.Xi.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),w.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Xi,r=>{const i=x.fromPath(r);return this.Zi(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(r=>{r?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return w.or([()=>w.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}class ob{constructor(){this.activeTargetIds=jf()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lV{constructor(){this.Ur=new ob,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new ob,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ore{Kr(e){}shutdown(){}}class dV{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const are={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ure{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class cre extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ho(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw Mf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s){return this.co(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+pa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.uo}/v1/${n}:${are[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new ute;a.listenOnce(ste.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case wD.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case wD.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new C(v.DEADLINE_EXCEEDED,"Request time out"));break;case wD.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new C(h,d.message))}else o(new C(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new C(v.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rte(),o=ite(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new ate({})),this.lo(a.initMessageHeaders,n,r),vR()||wR()||function O5(){return Mn().indexOf("Electron/")>=0}()||function F5(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||function L5(){return Mn().indexOf("MSAppHost/")>=0}()||bh()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new ure({Jr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Yr:()=>c.close()}),f=(p,g,y)=>{p.listen(g,I=>{try{y(I)}catch(D){setTimeout(()=>{throw D},0)}})};return f(c,xf.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,xf.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.ro())}),f(c,xf.EventType.ERROR,p=>{d||(d=!0,Mf("Connection","WebChannel transport errored:",p),h.ro(new C(v.UNAVAILABLE,"The operation could not be completed")))}),f(c,xf.EventType.MESSAGE,p=>{var g;if(!d){const y=p.data[0];q(!!y);const I=y,D=I.error||(null===(g=I[0])||void 0===g?void 0:g.error);if(D){T("Connection","WebChannel received error:",D);const _=D.status;let A=function(V){const Me=nt[V];if(void 0!==Me)return lL(Me)}(_),O=D.message;void 0===A&&(A=v.INTERNAL,O="Unknown error status: "+_+" with message "+D.message),d=!0,h.ro(new C(A,O)),c.close()}else T("Connection","WebChannel received:",y),h.oo(y)}}),f(o,ote.STAT_EVENT,p=>{p.stat===vF.PROXY?T("Connection","Detected buffering proxy"):p.stat===vF.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.io()},0),h}}function tp(){return typeof document<"u"?document:null}function fl(t){return new Qte(t,!0)}class ub{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class fV{constructor(e,n,r,i,s,o,a,u){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new ub(e,n)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return m(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return m(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var r=this;return m(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Ze(n.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new C(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro(m(function*(){e.state=0,e.start()}))}jo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lre extends fV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function Xte(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.N?(q(void 0===c||"string"==typeof c),dt.fromBase64String(c||"")):(q(void 0===c||c instanceof Uint8Array),dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?v.UNKNOWN:lL(u.code);return new C(c,u.message||"")}(o);n=new hL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=kr(t,r.document.name),s=wt(r.document.updateTime),o=new $t({mapValue:{fields:r.document.fields}}),a=xe.newFoundDocument(i,s,o);n=new $f(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=kr(t,r.document),s=r.readTime?wt(r.readTime):U.min(),o=xe.newNoDocument(i,s);n=new $f([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=kr(t,r.document);n=new $f([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,s=new Bte(r.count||0);n=new dL(r.targetId,s)}}var u;return n}(this.M,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?wt(s.readTime):U.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=rl(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=Ff(a)?{documents:EL(i,a)}:{query:DL(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mL(i,s.resumeToken):s.snapshotVersion.compareTo(U.min())>0&&(o.readTime=tl(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function ene(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return P()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=rl(this.M),n.removeTarget=e,this.Lo(n)}}class dre extends fV{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function Zte(t,e){return t&&t.length>0?(q(void 0!==e),t.map(n=>function(r,i){let s=wt(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=wt(i)),new Lte(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=wt(e.commitTime);return this.listener.tu(r,n)}return q(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=rl(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function il(t,e){let n;if(e instanceof Yc)n={update:wL(t,e.key,e.value)};else if(e instanceof Jc)n={delete:nl(t,e.key)};else if(e instanceof Us)n={update:wL(t,e.key,e.data),updateMask:sne(e.fieldMask)};else{if(!(e instanceof RD))return P();n={verify:nl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ea)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ls)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Da)return{fieldPath:s.field.canonicalString(),increment:o.k};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Yte(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.M,r))};this.Lo(n)}}class hre extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new C(v.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(v.UNKNOWN,i.toString())})}_o(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(v.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class fre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Ze(n),this.uu=!1):T("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class pre{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(a=>{r.enqueueAndForget(m(function*(){var u;Bi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=M(c);l.wu.add(4),yield ka(l),l.yu.set("Unknown"),l.wu.delete(4),yield pl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.yu=new fre(r,i)}}function pl(t){return cb.apply(this,arguments)}function cb(){return cb=m(function*(t){if(Bi(t))for(const e of t.mu)yield e(!0)}),cb.apply(this,arguments)}function ka(t){return lb.apply(this,arguments)}function lb(){return lb=m(function*(t){for(const e of t.mu)yield e(!1)}),lb.apply(this,arguments)}function np(t,e){const n=M(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),fb(n)?hb(n):Ra(n).Mo()&&db(n,e))}function gl(t,e){const n=M(t),r=Ra(n);n._u.delete(e),r.Mo()&&pV(n,e),0===n._u.size&&(r.Mo()?r.$o():Bi(n)&&n.yu.set("Unknown"))}function db(t,e){t.pu.Z(e.targetId),Ra(t).Ho(e)}function pV(t,e){t.pu.Z(e),Ra(t).Jo(e)}function hb(t){t.pu=new Wte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t._u.get(e)||null}),Ra(t).start(),t.yu.au()}function fb(t){return Bi(t)&&!Ra(t).ko()&&t._u.size>0}function Bi(t){return 0===M(t).wu.size}function gV(t){t.pu=void 0}function gre(t){return pb.apply(this,arguments)}function pb(){return pb=m(function*(t){t._u.forEach((e,n)=>{db(t,e)})}),pb.apply(this,arguments)}function mre(t,e){return gb.apply(this,arguments)}function gb(){return gb=m(function*(t,e){gV(t),fb(t)?(t.yu.lu(e),hb(t)):t.yu.set("Unknown")}),gb.apply(this,arguments)}function yre(t,e,n){return mb.apply(this,arguments)}function mb(){return mb=m(function*(t,e,n){if(t.yu.set("Online"),e instanceof hL&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i._u.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._u.delete(a),i.pu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rp(t,r)}else if(e instanceof $f?t.pu.ut(e):e instanceof dL?t.pu._t(e):t.pu.ht(e),!n.isEqual(U.min()))try{const r=yield rV(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i._u.get(u);c&&i._u.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i._u.get(a);if(!u)return;i._u.set(a,u.withResumeToken(dt.EMPTY_BYTE_STRING,u.snapshotVersion)),pV(i,a);const c=new Li(u.target,a,1,u.sequenceNumber);db(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield rp(t,r)}var r}),mb.apply(this,arguments)}function rp(t,e,n){return yb.apply(this,arguments)}function yb(){return yb=m(function*(t,e,n){if(!Bs(e))throw e;t.wu.add(1),yield ka(t),t.yu.set("Offline"),n||(n=()=>rV(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.wu.delete(1),yield pl(t)}))}),yb.apply(this,arguments)}function mV(t,e){return e().catch(n=>rp(t,n,e))}function Na(t){return _b.apply(this,arguments)}function _b(){return _b=m(function*(t){const e=M(t),n=ji(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;_re(e);)try{const i=yield Qne(e.localStore,r);if(null===i){0===e.du.length&&n.$o();break}r=i.batchId,vre(e,i)}catch(i){yield rp(e,i)}yV(e)&&_V(e)}),_b.apply(this,arguments)}function _re(t){return Bi(t)&&t.du.length<10}function vre(t,e){t.du.push(e);const n=ji(t);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function yV(t){return Bi(t)&&!ji(t).ko()&&t.du.length>0}function _V(t){ji(t).start()}function wre(t){return vb.apply(this,arguments)}function vb(){return vb=m(function*(t){ji(t).nu()}),vb.apply(this,arguments)}function Ire(t){return wb.apply(this,arguments)}function wb(){return wb=m(function*(t){const e=ji(t);for(const n of t.du)e.Zo(n.mutations)}),wb.apply(this,arguments)}function Ere(t,e,n){return Ib.apply(this,arguments)}function Ib(){return Ib=m(function*(t,e,n){const r=t.du.shift(),i=BD.from(r,e,n);yield mV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Na(t)}),Ib.apply(this,arguments)}function Dre(t,e){return Eb.apply(this,arguments)}function Eb(){return Eb=m(function*(t,e){var n;e&&ji(t).Xo&&(yield(n=m(function*(r,i){if(cL(s=i.code)&&s!==v.ABORTED){const o=r.du.shift();ji(r).Fo(),yield mV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Na(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),yV(t)&&_V(t)}),Eb.apply(this,arguments)}function vV(t,e){return Db.apply(this,arguments)}function Db(){return Db=m(function*(t,e){const n=M(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=Bi(n);n.wu.add(3),yield ka(n),r&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield pl(n)}),Db.apply(this,arguments)}function Cb(){return Cb=m(function*(t,e){const n=M(t);e?(n.wu.delete(2),yield pl(n)):e||(n.wu.add(2),yield ka(n),n.yu.set("Unknown"))}),Cb.apply(this,arguments)}function Ra(t){return t.Iu||(t.Iu=function(e,n,r){const i=M(e);return i.iu(),new lre(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:gre.bind(null,t),eo:mre.bind(null,t),zo:yre.bind(null,t)}),t.mu.push(function(){var e=m(function*(n){n?(t.Iu.Fo(),fb(t)?hb(t):t.yu.set("Unknown")):(yield t.Iu.stop(),gV(t))});return function(n){return e.apply(this,arguments)}}())),t.Iu}function ji(t){return t.Tu||(t.Tu=function(e,n,r){const i=M(e);return i.iu(),new dre(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:wre.bind(null,t),eo:Dre.bind(null,t),eu:Ire.bind(null,t),tu:Ere.bind(null,t)}),t.mu.push(function(){var e=m(function*(n){n?(t.Tu.Fo(),yield Na(t)):(yield t.Tu.stop(),t.du.length>0&&(T("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))});return function(n){return e.apply(this,arguments)}}())),t.Tu}class Tb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Tb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pa(t,e){if(Ze("AsyncQueue",`${e}: ${t}`),Bs(t))return new C(v.UNAVAILABLE,`${e}: ${t}`);throw t}class Oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=PD(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new Oa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class wV{constructor(){this.Eu=new We(x.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(n):1===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):P():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fa{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Fa(e,n,Oa.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class bre{constructor(){this.Ru=void 0,this.listeners=[]}}class Cre{constructor(){this.queries=new Fi(e=>zF(e),Kc),this.onlineState="Unknown",this.bu=new Set}}function Sb(){return Sb=m(function*(t,e){const n=M(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bre),i)try{s.Ru=yield n.onListen(r)}catch(o){const a=Pa(o,`Initialization of query '${MD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.Vu(s.Ru)&&kb(n)}),Sb.apply(this,arguments)}function Mb(){return Mb=m(function*(t,e){const n=M(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Mb.apply(this,arguments)}function Tre(t,e){const n=M(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Ru=i}}r&&kb(n)}function Are(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function kb(t){t.bu.forEach(e=>{e.next()})}class Nb{constructor(e,n,r){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class DV{constructor(e){this.key=e}}class bV{constructor(e){this.key=e}}class CV{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=me(),this.mutatedKeys=me(),this.Gu=QF(e),this.Qu=new Oa(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new wV,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=kD(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new Fa(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new wV,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=me(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new bV(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new DV(r))}),n}ta(e){this.Uu=e._i,this.Ku=me();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return Fa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class Mre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kre{constructor(e){this.key=e,this.na=!1}}class Nre{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Fi(a=>zF(a),Kc),this.ra=new Map,this.oa=new Set,this.ua=new We(x.comparator),this.aa=new Map,this.ca=new nb,this.ha={},this.la=new Map,this.fa=zs.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function Rre(t,e){return Rb.apply(this,arguments)}function Rb(){return Rb=m(function*(t,e){const n=nC(t);let r,i;const s=n.ia.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const o=yield xa(n.localStore,qn(e));n.isPrimaryClient&&np(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Pb(n,e,r,"current"===a)}return i}),Rb.apply(this,arguments)}function Pb(t,e,n,r){return Ob.apply(this,arguments)}function Ob(){return Ob=m(function*(t,e,n,r){t._a=(l,d,h)=>{return(f=m(function*(p,g,y,I){let D=g.view.Wu(y);D.ii&&(D=yield Xf(p.localStore,g.query,!1).then(({documents:O})=>g.view.Wu(O,D)));const _=I&&I.targetChanges.get(g.targetId),A=g.view.applyChanges(D,p.isPrimaryClient,_);return qb(p,g.targetId,A.Xu),A.snapshot}),function(p,g,y,I){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Xf(t.localStore,e,!0),s=new CV(e,i._i),o=s.Wu(i.documents),a=el.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);qb(t,n,u.Xu);const c=new Mre(e,n,s);return t.ia.set(e,c),t.ra.has(n)?t.ra.get(n).push(e):t.ra.set(n,[e]),u.snapshot}),Ob.apply(this,arguments)}function Pre(t,e){return Fb.apply(this,arguments)}function Fb(){return Fb=m(function*(t,e){const n=M(t),r=n.ia.get(e),i=n.ra.get(r.targetId);if(i.length>1)return n.ra.set(r.targetId,i.filter(s=>!Kc(s,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ma(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gl(n.remoteStore,r.targetId),La(n,r.targetId)}).catch(Ks))):(La(n,r.targetId),yield Ma(n.localStore,r.targetId,!0))}),Fb.apply(this,arguments)}function Lb(){return Lb=m(function*(t,e,n){const r=rC(t);try{const i=yield function(s,o){const a=M(s),u=et.now(),c=o.reduce((d,h)=>d.add(h.key),me());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.fi.Ks(d,c).next(h=>{l=h;const f=[];for(const p of o){const g=Ute(p,l.get(p.key));null!=g&&f.push(new Us(p.key,g,OF(g.value.mapValue),tt.exists(!0)))}return a.Bs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ha[s.currentUser.toKey()];u||(u=new We(X)),u=u.insert(o,a),s.ha[s.currentUser.toKey()]=u}(r,i.batchId,n),yield hi(r,i.changes),yield Na(r.remoteStore)}catch(i){const s=Pa(i,"Failed to persist write");n.reject(s)}}),Lb.apply(this,arguments)}function TV(t,e){return Vb.apply(this,arguments)}function Vb(){return Vb=m(function*(t,e){const n=M(t);try{const r=yield Kne(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.aa.get(s);o&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.na=!0:i.modifiedDocuments.size>0?q(o.na):i.removedDocuments.size>0&&(q(o.na),o.na=!1))}),yield hi(n,r,e)}catch(r){yield Ks(r)}}),Vb.apply(this,arguments)}function AV(t,e,n){const r=M(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ia.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Pu(o)&&(u=!0)}),u&&kb(a)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Fre(t,e,n){return Ub.apply(this,arguments)}function Ub(){return Ub=m(function*(t,e,n){const r=M(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.aa.get(e),s=i&&i.key;if(s){let o=new We(x.comparator);o=o.insert(s,xe.newNoDocument(s,U.min()));const a=me().add(s),u=new Zc(U.min(),new Map,new Se(X),o,a);yield TV(r,u),r.ua=r.ua.remove(s),r.aa.delete(e),Wb(r)}else yield Ma(r.localStore,e,!1).then(()=>La(r,e,n)).catch(Ks)}),Ub.apply(this,arguments)}function Lre(t,e){return Bb.apply(this,arguments)}function Bb(){return Bb=m(function*(t,e){const n=M(t),r=e.batch.batchId;try{const i=yield zne(n.localStore,e);Gb(n,r,null),Hb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield hi(n,i)}catch(i){yield Ks(i)}}),Bb.apply(this,arguments)}function Vre(t,e,n){return jb.apply(this,arguments)}function jb(){return jb=m(function*(t,e,n){const r=M(t);try{const i=yield function(s,o){const a=M(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.Bs.lookupMutationBatch(u,o).next(l=>(q(null!==l),c=l.keys(),a.Bs.removeMutationBatch(u,l))).next(()=>a.Bs.performConsistencyCheck(u)).next(()=>a.fi.Ks(u,c))})}(r.localStore,e);Gb(r,e,n),Hb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield hi(r,i)}catch(i){yield Ks(i)}}),jb.apply(this,arguments)}function Hb(t,e){(t.la.get(e)||[]).forEach(n=>{n.resolve()}),t.la.delete(e)}function Gb(t,e,n){const r=M(t);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function La(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ra.get(e))t.ia.delete(r),n&&t.sa.wa(r,n);t.ra.delete(e),t.isPrimaryClient&&t.ca.vi(e).forEach(r=>{t.ca.containsKey(r)||SV(t,r)})}function SV(t,e){t.oa.delete(e.path.canonicalString());const n=t.ua.get(e);null!==n&&(gl(t.remoteStore,n),t.ua=t.ua.remove(e),t.aa.delete(n),Wb(t))}function qb(t,e,n){for(const r of n)r instanceof DV?(t.ca.addReference(r.key,e),Bre(t,r)):r instanceof bV?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ca.removeReference(r.key,e),t.ca.containsKey(r.key)||SV(t,r.key)):P()}function Bre(t,e){const n=e.key,r=n.path.canonicalString();t.ua.get(n)||t.oa.has(r)||(T("SyncEngine","New document in limbo: "+n),t.oa.add(r),Wb(t))}function Wb(t){for(;t.oa.size>0&&t.ua.size<t.maxConcurrentLimboResolutions;){const e=t.oa.values().next().value;t.oa.delete(e);const n=new x(le.fromString(e)),r=t.fa.next();t.aa.set(r,new kre(n)),t.ua=t.ua.insert(n,r),np(t.remoteStore,new Li(qn(wa(n.path)),r,2,Rn.A))}}function hi(t,e,n){return zb.apply(this,arguments)}function zb(){return zb=m(function*(t,e,n){const r=M(t),i=[],s=[],o=[];var a;r.ia.isEmpty()||(r.ia.forEach((a,u)=>{o.push(r._a(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=JD.Ys(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sa.zo(i),yield(a=m(function*(u,c){const l=M(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Hs,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Js,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Bs(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.ui=l.ui.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),zb.apply(this,arguments)}function jre(t,e){return Kb.apply(this,arguments)}function Kb(){return Kb=m(function*(t,e){const n=M(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield nV(n.localStore,e);n.currentUser=e,(i=n).la.forEach(o=>{o.forEach(a=>{a.reject(new C(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hi(n,r.di)}var i}),Kb.apply(this,arguments)}function $re(t,e){const n=M(t),r=n.aa.get(e);if(r&&r.na)return me().add(r.key);{let i=me();const s=n.ra.get(e);if(!s)return i;for(const o of s){const a=n.ia.get(o);i=i.unionWith(a.view.ju)}return i}}function nC(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$re.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fre.bind(null,e),e.sa.zo=Tre.bind(null,e.eventManager),e.sa.wa=Are.bind(null,e.eventManager),e}function rC(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vre.bind(null,e),e}class Jre{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.M=fl(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),yield n.persistence.start(),n.gcScheduler=n.pa(e),n.localStore=n.Ia(e)})()}pa(e){return null}Ia(e){return function tV(t,e,n,r){return new Wne(t,e,n,r)}(this.persistence,new eV,e.initialUser,this.M)}ya(e){return new ire(rb.Yi,this.M)}ga(e){return new lV}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iC{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>AV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=jre.bind(null,r.syncEngine),yield function bb(t,e){return Cb.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cre}createDatastore(e){const n=fl(e.databaseInfo.databaseId),r=new cre(e.databaseInfo);return new hre(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>AV(this.syncEngine,a,0),o=dV.vt()?new dV:new ore,new pre(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Nre(r,i,s,o,a,u);return c&&(l.da=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=M(n);T("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield ka(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class ip{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class rie{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=DF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Pa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function NV(t,e){return sC.apply(this,arguments)}function sC(){return sC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield nV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),sC.apply(this,arguments)}function RV(t,e){return oC.apply(this,arguments)}function oC(){return oC=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield aC(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>vV(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>vV(e.remoteStore,s)),t.onlineComponents=e}),oC.apply(this,arguments)}function aC(t){return uC.apply(this,arguments)}function uC(){return uC=m(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield NV(t,new Jre)),t.offlineComponents}),uC.apply(this,arguments)}function sp(t){return cC.apply(this,arguments)}function cC(){return cC=m(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield RV(t,new iC)),t.onlineComponents}),cC.apply(this,arguments)}function Va(t){return hC.apply(this,arguments)}function hC(){return hC=m(function*(t){const e=yield sp(t),n=e.eventManager;return n.onListen=Rre.bind(null,e.syncEngine),n.onUnlisten=Pre.bind(null,e.syncEngine),n}),hC.apply(this,arguments)}const VV=new Map;function fC(t,e,n){if(!n)throw new C(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UV(t){if(!x.isDocumentKey(t))throw new C(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BV(t){if(x.isDocumentKey(t))throw new C(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function op(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function he(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=op(t);throw new C(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class $V{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new C(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function hie(t,e,n,r){if(!0===e&&!0===r)throw new C(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ml{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $V({}),this._settingsFrozen=!1,e instanceof Ni?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new C(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ni(i.options.projectId)}(e))}get app(){if(!this._app)throw new C(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $V(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new cte;switch(n.type){case"gapi":const r=n.client;return q(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new fte(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new C(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=VV.get(e);n&&(T("ComponentProvider","Removing Datastore"),VV.delete(e),n.terminate())}(this),Promise.resolve()}}class ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ze(this.firestore,e,this._key)}}class Ht{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ht(this.firestore,e,this._query)}}class Rr extends Ht{constructor(e,n,r){super(e,n,wa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new x(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function fie(t,e,...n){if(t=Hn(t),fC("collection","path",e),t instanceof ml){const r=le.fromString(e,...n);return BV(r),new Rr(t,null,r)}{if(!(t instanceof ze||t instanceof Rr))throw new C(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return BV(r),new Rr(t.firestore,null,r)}}class mie{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new ub(this,"async_queue_retry"),this.Qa=()=>{const n=tp();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=tp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=tp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new _t;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return m(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(n){if(!Bs(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Ze("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=n,n}enqueueAfterDelay(e,n,r){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const i=Tb.createAndSchedule(this,e,n,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&P()}verifyOperationInProgress(){}Ja(){var e=this;return m(function*(){let n;do{n=e.Fa,yield n}while(n!==e.Fa)})()}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.La)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function pC(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Pe extends ml{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new mie,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||HV(this),this._firestoreClient.terminate()}}function _ie(t=kR()){return Sh(t,"firestore").getImmediate()}function ht(t){return t._firestoreClient||HV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function HV(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new _te(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new rie(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Ua{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ys(dt.fromBase64String(e))}catch(n){throw new C(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ys(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class WV{constructor(e){this._methodName=e}}class gC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const vie=/^__.*__$/;class wie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Us(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yc(e,this.data,n,this.fieldTransforms)}}function KV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class ap{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return cp(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(KV(this.ec)&&vie.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class Iie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||fl(e)}lc(e,n,r,i=!1){return new ap({ec:e,methodName:n,hc:r,path:vt.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Ba(t){const e=t._freezeSettings(),n=fl(t._databaseId);return new Iie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mC(t,e,n,r,i,s={}){const o=t.lc(s.merge||s.mergeFields?2:0,e,n,i);_C("Data must be an object, but it was:",o,r);const a=ZV(r,o);let u,c;if(s.merge)u=new ma(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=vC(e,d,n);if(!o.contains(h))throw new C(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tU(l,h)||l.push(h)}u=new ma(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new wie(new $t(a),u,c)}function Js(t,e){if(eU(t=Hn(t)))return _C("Unsupported field value:",e,t),ZV(t,e);if(t instanceof WV)return function(n,r){if(!KV(r.ec))throw r.ac(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Js(o,r.uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Hn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return XF(r.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=et.fromDate(n);return{timestampValue:tl(r.M,i)}}if(n instanceof et){const i=new et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:tl(r.M,i)}}if(n instanceof gC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ys)return{bytesValue:mL(r.M,n._byteString)};if(n instanceof ze){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:OD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ac(`Unsupported field value: ${op(n)}`)}(t,e)}function ZV(t,e){const n={};return TF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(t,(r,i)=>{const s=Js(i,e.sc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function eU(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof gC||t instanceof Ys||t instanceof ze||t instanceof WV)}function _C(t,e,n){if(!eU(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=op(n);throw e.ac("an object"===r?t+" a custom object":t+" "+r)}var r}function vC(t,e,n){if((e=Hn(e))instanceof Ua)return e._internalPath;if("string"==typeof e)return up(t,e);throw cp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Cie=new RegExp("[~\\*/\\[\\]]");function up(t,e,n){if(e.search(Cie)>=0)throw cp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ua(...e.split("."))._internalPath}catch{throw cp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(v.INVALID_ARGUMENT,a+t+u)}function tU(t,e){return t.some(n=>n.isEqual(e))}class wC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Tie extends wC{data(){return super.data()}}function lp(t,e){return"string"==typeof e?up(t,e):e instanceof Ua?e._internalPath:e._delegate._internalPath}class Xs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ja extends wC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dp extends ja{data(e={}){return super.data(e)}}class $a{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dp(this._firestore,this._userDataWriter,r.key,r,new Xs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new dp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Xs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new dp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Xs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Aie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Aie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}class Zs extends class kie{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){const r={};return ks(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new gC(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=AF(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=ki(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=le.fromString(e);q(TL(r));const i=new Ni(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Ze(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,n)}}function Rie(t,e){const n=he(t.firestore,Pe),r=function pie(t,e,...n){if(t=Hn(t),1===arguments.length&&(e=DF.R()),fC("doc","path",e),t instanceof ml){const r=le.fromString(e,...n);return UV(r),new ze(t,null,new x(r))}{if(!(t instanceof ze||t instanceof Rr))throw new C(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return UV(r),new ze(t.firestore,t instanceof Rr?t.converter:null,new x(r))}}(t),i=function IC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function _l(t,e){return function(n,r){const i=new _t;return n.asyncQueue.enqueueAndForget(m(function*(){return function Ore(t,e,n){return Lb.apply(this,arguments)}(yield function dC(t){return sp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ht(t),e)}(n,[mC(Ba(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,tt.exists(!1))]).then(()=>r)}!function(t,e=!0){pa="9.8.2",Zt(new Bt("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Pe(i,new dte(n.getProvider("auth-internal")),new pte(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),qe(wF,"3.4.9",t),qe(wF,"3.4.9","esm2017")}();var Fie={includeMetadataChanges:!1};function DC(t,e){return void 0===e&&(e=Fie),new Oe(function(n){var r=function Pie(t,...e){var n,r,i;t=Hn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||pC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(pC(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ze)c=he(t.firestore,Pe),l=wa(t._key.path),u={next:d=>{e[o]&&e[o](function EC(t,e,n){const r=n.docs.get(e._key),i=new Zs(t);return new ja(t,i,e._key,r,new Xs(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=he(t,Ht);c=he(d.firestore,Pe),l=d._query;const h=new Zs(c);u={next:f=>{e[o]&&e[o](new $a(c,h,d,f))},error:e[o+1],complete:e[o+2]},function nU(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new ip(p),y=new Nb(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function Ab(t,e){return Sb.apply(this,arguments)}(yield Va(d),y)})),()=>{g.Aa(),d.asyncQueue.enqueueAndForget(m(function*(){return function xb(t,e){return Mb.apply(this,arguments)}(yield Va(d),y)}))}}(ht(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Hie(t,e){return void 0===e&&(e={}),function $ie(t){return DC(t,{includeMetadataChanges:!0}).pipe(_e(function(e){return e.docs}))}(t).pipe(_e(function(n){return n.map(function(r){return function dU(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class fp{constructor(e){return e}}const gU="firestore",TC=new H("angularfire2.firestore-instances");function Wie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new fp(r)}}const zie={provide:class Gie{constructor(){return gw(gU)}},deps:[[new ot,TC]]},Kie={provide:fp,useFactory:function qie(t,e){const n=function pw(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(gU,t,e);return n&&new fp(n)},deps:[[new ot,TC],oa]};let Qie=(()=>{class t{constructor(){qe("angularfire",ow.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=wn({providers:[Kie,zie]}),t})();function Yie(t,...e){return{ngModule:Qie,providers:[{provide:TC,useFactory:Wie(t),multi:!0,deps:[Fe,Vt,P1,O1,[new ot,OP],[new ot,iO],...e]}]}}const Jie=uc(Hie,!0),Xie=uc(Rie,!0),Zie=uc(fie,!0),ese=uc(_ie,!0);let mU=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(qr),b(Sn))},t.\u0275dir=$({type:t}),t})(),eo=(()=>{class t extends mU{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function Ft(t){return fi(()=>{const e=t.prototype.constructor,n=e[Vr]||cg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Vr]||cg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275dir=$({type:t,features:[ye]}),t})();const Pr=new H("NgValueAccessor"),rse={provide:Pr,useExisting:be(()=>pp),multi:!0},sse=new H("CompositionEventMode");let pp=(()=>{class t extends mU{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ise(){const t=Cr()?Cr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(qr),b(Sn),b(sse,8))},t.\u0275dir=$({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ln("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ne([rse]),ye]}),t})();const Gt=new H("NgValidators"),Hi=new H("NgAsyncValidators");function AU(t){return null!=t}function SU(t){const e=bu(t)?rt(t):t;return xm(e),e}function xU(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function MU(t,e){return e.map(n=>n(t))}function kU(t){return t.map(e=>function ase(t){return!t.validate}(e)?e:n=>e.validate(n))}function AC(t){return null!=t?function NU(t){if(!t)return null;const e=t.filter(AU);return 0==e.length?null:function(n){return xU(MU(n,e))}}(kU(t)):null}function SC(t){return null!=t?function RU(t){if(!t)return null;const e=t.filter(AU);return 0==e.length?null:function(n){return function tse(...t){const e=ET(t),{args:n,keys:r}=iN(t),i=new Oe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;hr(n[l]).subscribe(ft(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?oN(r,a):a),s.complete())}))}});return e?i.pipe(sN(e)):i}(MU(n,e).map(SU)).pipe(_e(xU))}}(kU(t)):null}function PU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xC(t){return t?Array.isArray(t)?t:[t]:[]}function mp(t,e){return Array.isArray(t)?t.includes(e):t===e}function LU(t,e){const n=xC(e);return xC(t).forEach(i=>{mp(n,i)||n.push(i)}),n}function VU(t,e){return xC(e).filter(n=>!mp(t,n))}class UU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=AC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class on extends UU{get formDirective(){return null}get path(){return null}}class Gi extends UU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let jU=(()=>{class t extends class BU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Gi,2))},t.\u0275dir=$({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&bd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ye]}),t})();const vl="VALID",_p="INVALID",Ha="PENDING",wl="DISABLED";function HU(t){return Array.isArray(t)?AC(t):t||null}function GU(t){return Array.isArray(t)?SC(t):t||null}function vp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function Il(t,e){(function FC(t,e){const n=function OU(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(PU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function FU(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(PU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Ep(e._rawValidators,i),Ep(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),t.disabled&&e.valueAccessor.setDisabledState?.(!0),function yse(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&KU(t,e)})}(t,e),function vse(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function _se(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&KU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function mse(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ep(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function KU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function XU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Ase={provide:Gi,useExisting:be(()=>BC)},rB=(()=>Promise.resolve(null))();let BC=(()=>{class t extends Gi{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new class extends class zU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=HU(this._rawValidators),this._composedAsyncValidatorFn=GU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vl}get invalid(){return this.status===_p}get pending(){return this.status==Ha}get disabled(){return this.status===wl}get enabled(){return this.status!==wl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=HU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=GU(e)}addValidators(e){this.setValidators(LU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VU(e,this._rawAsyncValidators))}hasValidator(e){return mp(this._rawValidators,e)}hasAsyncValidator(e){return mp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ha,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=wl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=vl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vl||this.status===Ha)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wl:vl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ha,this._hasOwnPendingAsyncValidator=!0;const n=SU(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?wl:this.errors?_p:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ha)?Ha:this._anyControlsHaveStatus(_p)?_p:vl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,n,r){super(function RC(t){return(vp(t)?t.validators:t)||null}(n),function PC(t,e){return(vp(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=ZU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ZU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new $e,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function VC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===pp?n=s:function Ese(t){return Object.getPrototypeOf(t.constructor)===eo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function LC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Il(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){rB.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Kr(r);rB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function wp(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(on,9),b(Gt,10),b(Hi,10),b(Pr,10),b(Hd,8))},t.\u0275dir=$({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ne([Ase]),ye,Fn]}),t})(),sB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=wn({}),t})(),Xse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=wn({imports:[sB]}),t})(),Zse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=wn({imports:[Xse]}),t})();const noe=["myCanvas"];function roe(t,e){if(1&t&&(ae(0,"div")(1,"td"),Te(2),ue(),ae(3,"td"),Te(4),ue()()),2&t){const n=$S().$implicit;_u(2),Td(n.name),_u(2),Td(n.score)}}function ioe(t,e){if(1&t&&(ae(0,"div"),bm(1,roe,5,2,"div",4),ue()),2&t){const n=e.$implicit;_u(1),Du("ngIf",n.name)}}let soe=(()=>{class t{constructor(n){this.firestore=n,this.scores=[],this.score=0,this.started=!1,this.timeLeft=7,this.pause=!1,this.highScore=0,this.goLeft=!1,this.goRight=!1,this.name="",this.highScoresCollection=Zie(this.firestore,"high-scores"),this.canvas={},this.ball={},this.bouncer={}}ngOnInit(){Jie(this.highScoresCollection).subscribe(r=>{console.log("scores",r),this.scores=r.sort(ooe)})}ngAfterViewInit(){console.log("canvas",this.canvas),this.canvas&&(console.log("after view init"),this.ctx=this.canvas.nativeElement.getContext("2d"),this.ball={x:100,y:100,vx:4,vy:7,radius:25,color:"crimson",ctx:this.ctx,draw:function(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fillStyle=this.color,this.ctx.fill()}},this.bouncer={x:240,vx:7,y:285,w:120,h:20,color:"lime",ctx:this.ctx,draw:function(){this.ctx.beginPath(),this.ctx.fillRect(this.x,this.y,this.w,this.h),this.ctx.closePath(),this.ctx.fillStyle=this.color,this.ctx.fill()}},setInterval(()=>{this.started&&this.timeLeft--},1e3),this.canvas.nativeElement.addEventListener("click",n=>{this.started||(this.raf=window.requestAnimationFrame(this.draw.bind(this)),this.started=!0)}),this.canvas.nativeElement.addEventListener("keydown",n=>{console.log("keydown",n),"ArrowLeft"===n.key||"a"===n.key?this.goLeft=!0:("ArrowRight"===n.key||"d"===n.key)&&(this.goRight=!0)}),this.canvas.nativeElement.addEventListener("keyup",n=>{"ArrowLeft"===n.key||"a"===n.key?this.goLeft=!1:("ArrowRight"===n.key||"d"===n.key)&&(this.goRight=!1)}),this.bouncer.draw(),this.ball.draw())}draw(){var n=this;return m(function*(){if(n.ctx){if(n.pause)return n.ctx.fillStyle="black",n.ctx.font="30px serif",void n.ctx.fillText("click to restart, in progress",250,150,250);n.ctx.fillStyle="rgba(127, 255, 0, .3)",n.ctx.fillRect(0,0,n.canvas.nativeElement.width,n.canvas.nativeElement.height),n.ball.draw(),n.bouncer.draw(),n.ball.x+=n.ball.vx,n.ball.y+=n.ball.vy,n.timeLeft<=0&&(n.timeLeft=0,n.pause=!0,yield Xie(n.highScoresCollection,{name:n.name,score:n.highScore,createDate:new Date})),n.ball.y>=n.bouncer.y&&n.ball.x>n.bouncer.x&&n.ball.x<n.bouncer.x+n.bouncer.w?(n.score+=1,n.score>=n.highScore&&(n.highScore+=1),n.ball.vy=-n.ball.vy):n.ball.y>n.canvas.nativeElement.height&&(n.score-=1),(n.ball.y>n.canvas.nativeElement.height||n.ball.y<0)&&(n.ball.vy=-n.ball.vy),(n.ball.x>n.canvas.nativeElement.width||n.ball.x<0)&&(n.ball.vx=-n.ball.vx),n.goLeft?n.bouncer.x>=0&&(n.bouncer.x-=n.bouncer.vx):n.goRight&&n.bouncer.x+n.bouncer.w<=n.canvas.nativeElement.width&&(n.bouncer.x+=n.bouncer.vx),n.ctx.fillStyle="black",n.ctx.font="30px serif",n.started||n.ctx.fillText("click to start",150,300,200),n.raf=window.requestAnimationFrame(n.draw.bind(n)),n.ctx.fillText(n.score.toString(),40,40,200),n.ctx.fillText("Time remaining: "+n.timeLeft,300,40,200),n.score<=-25&&(n.ball.x=100,n.ball.y=100,n.score=n.highScore)}})()}}return t.\u0275fac=function(n){return new(n||t)(b(fp))},t.\u0275cmp=an({type:t,selectors:[["app-bounce-up"]],viewQuery:function(n,r){if(1&n&&function EM(t,e,n){const r=oe();r.firstCreatePass&&(bM(r,new wM(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),DM(r,E(),e)}(noe,5),2&n){let i;Pd(i=Od())&&(r.canvas=i.first)}},decls:12,vars:2,consts:[[3,"ngModel","ngModelChange"],["id","canvas","tabindex","1","width","600","height","300",2,"border","5px solid"],["myCanvas",""],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(n,r){1&n&&(ae(0,"input",0),ln("ngModelChange",function(s){return r.name=s}),ue(),Ir(1,"canvas",1,2),ae(3,"div")(4,"table")(5,"tr")(6,"th"),Te(7,"Name"),ue(),ae(8,"th"),Te(9,"Score"),ue()(),ae(10,"tr"),bm(11,ioe,2,1,"div",3),ue()()()),2&n&&(Du("ngModel",r.name),_u(11),Du("ngForOf",r.scores))},dependencies:[Nk,Pk,pp,jU,BC],styles:["td[_ngcontent-%COMP%]{border-right:1px solid}"]}),t})();function ooe(t,e){return t.score<e.score?1:t.score>e.score?-1:0}const aoe=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:b5},{path:"code-org",component:D5,children:[{path:"sloth",component:T5},{path:"pirate-hunters",component:A5},{path:"hourglass",component:C5},{path:"home",component:E5}]},{path:"canvas",component:I5,children:[{path:"home",component:S5},{path:"bounce-up",component:soe}]}];let uoe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t}),t.\u0275inj=wn({imports:[fR.forRoot(aoe),fR]}),t})(),coe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["app-header"]],decls:6,vars:0,consts:[["routerLink","home","routerLinkActive","current-page"],["routerLink","code-org","routerLinkActive","current-page"],["routerLink","canvas","routerLinkActive","current-page"]],template:function(n,r){1&n&&(ae(0,"a",0),Te(1,"Home"),ue(),ae(2,"a",1),Te(3,"Code.org"),ue(),ae(4,"a",2),Te(5,"Canvas"),ue())},dependencies:[ea,Eh],styles:["a.current-page[_ngcontent-%COMP%]{border-style:solid;color:orange;font-size:20px;padding:5px;background-color:navy;margin-bottom:15px}a[_ngcontent-%COMP%]:not(.current-page){border-style:solid;color:#000;font-size:20px;padding:5px;margin-bottom:15px}"]}),t})(),loe=(()=>{class t{constructor(){this.title="ng-games-website"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=an({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){1&n&&Ir(0,"app-header")(1,"router-outlet")},dependencies:[Ju,coe]}),t})();const doe={apiKey:"AIzaSyATJiJTJhtu1_5vYv1_FxrroYPhap8w0nM",authDomain:"bounceup-1eabd.firebaseapp.com",projectId:"bounceup-1eabd",storageBucket:"bounceup-1eabd.appspot.com",messagingSenderId:"625846739265",appId:"1:625846739265:web:3e3e3a2faffdf54a8001c0",measurementId:"G-1V344W9KF1"};let hoe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Pn({type:t,bootstrap:[loe]}),t.\u0275inj=wn({providers:[],imports:[$8,uoe,Zse,WY(()=>zY(doe)),Yie(()=>ese())]}),t})();(function b3(){ak=!1})(),j8().bootstrapModule(hoe).catch(t=>console.error(t))}},De=>{De(De.s=369)}]);